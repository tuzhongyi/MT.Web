<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>信号量列表</title>
    <link href="../../../css/howell.css" rel="stylesheet" />
    <link href="../../css/bootstrap/bootstrap-switch.css" rel="stylesheet" />
    <script type="text/javascript" src="../../../js/language/chinese.js"></script>
    <script type="text/javascript" src="../../../js/jquery/jquery-1.10.2.min.js"></script>
    <script src="../../../js/imported.js"></script>
    <script type="text/javascript" src="../../../js/jquery/jquery-ui.js"></script>
    <script type="text/javascript" src="../../../js/jquery/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="../../../js/bootstrap/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../js/nav.js"></script>

    <script type="text/javascript" src="../../../js/jquery/jquery.confirm.js"></script>
    <script type="text/javascript" src="../../../js/modernizr.custom.js"></script>
    <script type="text/javascript" src="../../../js/md5.js"></script>
    <script type="text/javascript" src="../../../js/howell.js/howell.js"></script>
    <script type="text/javascript" src="../../../js/howell.js/digest.js"></script>
    <script type="text/javascript" src="../../../js/howell.js/httpService.js"></script>
    <script type="text/javascript" src="../../../js/client/management.js"></script>
    <script type="text/javascript" src="../../../js/client/security.js"></script>
    <script type="text/javascript" src="../../../js/client/enum.js"></script>
    <script type="text/javascript" src="../../../js/client/struct.js"></script>
    <script type="text/javascript" src="../../../js/client/client.js"></script>
    <script type="text/javascript" src="../../../js/howell.js/howell.control.js"></script>
    <script type="text/javascript" src="../../../js/jquery/jquery.confirm.js"></script>
    <script type="text/javascript" src="../../../js/bootstrap/bootstrap-switch.min.js"></script>
    <script type="text/javascript" src="../../../js/background/management/background_device.event.js"></script>
    <script type="text/javascript" src="../../../js/background/management/background_devices.js"></script>
    <script type="text/javascript" src="../../../js/background/management/background_device_mediums.js"></script>
    <script type="text/javascript" src="device_mediums.js"></script>
    <!--<script type="text/javascript" src="../../js/background/management/device/user/background_device_user_permissions.js"></script>
    <script type="text/javascript" src="user/device_user_permissions.js"></script>-->

    <script>
        Trigger = document.createElement("a");;
        Trigger.href = "medium/item.htm?deviceId=00310101021111111000001000000000";
        Info.ControlIdPrefix.Medium.AlertUrl.add = "medium/device_medium_permissions.htm";
    </script>

</head>
<body>
    <!--已绑定列表-->
    <div class="widget-container fluid-height clearfix association-frame mouse_default swith_control">
        <div class="heading association-heading">
            <div class="icon_signal simple title"></div>
            <label>信号量列表</label><div class="association-heading-count-text">共 <label id="lbl_signal_count">0</label> 条</div>
        </div>
        <div class="association-operation-bar">
            <div class="pull-left" style="margin-top:6px;color:#007aff">
                <div class="pull-left" style="margin-right:15px"><div class="icon_signal simple item green" style="margin-top:3px;"></div><span>未报警</span></div>
                <div class="pull-left"><div class="icon_signal simple item red" style="margin-top:3px"></div><span>报警</span></div>
            </div>
            <a title="批量修改" style="padding:2px 8px 0 12px;line-height:0px" class="btn btn-xs btn-primary-outline pull-right div-xsgroup button-img-size" onclick="Signal_BatchModify(this)" href="modbus/signal/modbus_signal_details.htm?deviceId=" id="btnBatchModify">
                <i class="icon-edit" style="font-size:21px;margin:0 0 0 0;line-height:initial"></i>
            </a>
            <a title="批量消警" class="btn btn-xs btn-primary-outline pull-right div-xsgroup eliminate_btn" onclick="Signal_BatchEliminate();">
                <div></div>
            </a>
            <div class="btn-group  pull-right association-groupdown" id="div_bound_selectSignal">
                <div class="btn btn-xs btn-primary association-btn-xs-groupdown dropdown-toggle control">
                    选&ensp;择&ensp;<span class="caret"></span>
                </div>
                <ul class="dropdown-menu association-groupdown-menu" onmouseover="operationSignalCanClose = false;" onmouseout="    operationSignalCanClose = true;">
                <li class="mouse_pointer dropdown-menu-li">
                        <a class="association-groupdown-menu-item"
                           onclick="GroupList.Select.All('modbus_signal_list_', Signal_SelectedAll);">
                            全选
                        </a>
                    </li>
                    <li class="mouse_pointer dropdown-menu-li">
                        <a class="association-groupdown-menu-item"
                           onclick="GroupList.Select.All('modbus_signal_list_', Signal_SelectedCurrent);">
                            当前页
                        </a>
                    </li>
                    <li class="mouse_pointer dropdown-menu-li">
                        <a class="association-groupdown-menu-item"
                           onclick="GroupList.Select.Inverse('modbus_signal_list_'); Signal_SelectedInverse();">
                            反选
                        </a>
                    </li>
                    <li class="mouse_pointer dropdown-menu-li">
                        <a class="association-groupdown-menu-item"
                           onclick="GroupList.Select.Cancel('modbus_signal_list_', Signal_SelectedCancel);">
                            取消
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="widget-content padded clearfix association-list-container">
            <div id="glist_signals">

            </div>
        </div>
        <div class="col-md-12">
            <div id="div_signal_paging">

            </div>
        </div>
    </div>

    <script>
        var operationSignalCanClose = true;
        function modbus_signal_list_load() {
            var tag = getTag("btnBatchModify");
            tag.href += Html.Current.Id.get();
            Html.Control.PopoverWindow.SignalList.selected = new Array();
            $(".dropdown-menu-li").click(function () {
                var node = this.parentElement.parentElement;
                if (node.className.indexOf("open") > -1)
                    $(node).removeClass("open");
            });
            $(".popover-content .dropdown-toggle.control").click(function () {
                var node = this.parentElement;
                if (node.className.indexOf("open") < 0)
                    $(node).addClass("open");
                else
                    $(node).removeClass("open");
            });
            $(".popover-content .dropdown-toggle.control").blur(function () {
                if (operationSignalCanClose) {
                    var node = this.parentElement;
                    if (node.className.indexOf("open") > -1)
                        $(node).removeClass("open");
                    operationSignalCanClose = true;
                }
            });
            Html.Control.PopoverWindow.SignalList.clearValue();
            Html.Control.PopoverWindow.SignalList.load(1);
        }

        modbus_signal_list_load();
    </script>
</body>
</html>

