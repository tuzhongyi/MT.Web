{"version":3,"file":"WSPlayer_v2.js","mappings":";;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,wBAAwB,mBAAO,CAAC,GAAwB;AACxD,mCAAmC,mBAAO,CAAC,IAAmC;AAC9E,kCAAkC,mBAAO,CAAC,IAAiC;AAC3E,kCAAkC,mBAAO,CAAC,IAAiC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,0BAA0B;;;;;;;;ACzDb;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC,wBAAwB,mBAAO,CAAC,IAAoC;AACpE,wBAAwB,mBAAO,CAAC,GAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA,mCAAmC,IAAI;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gCAAgC;;;;;;;;AC/GnB;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gCAAgC;;;;;;;;ACrCnB;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,yCAAyC,mBAAO,CAAC,IAAkC;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+BAA+B;;;;;;;;AC5ClB;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2CAA2C;AAC3C,yBAAyB,mBAAO,CAAC,IAA2B;AAC5D,wBAAwB,mBAAO,CAAC,IAAoC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,2CAA2C;;;;;;;;AC7C9B;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kCAAkC;;;;;;;;ACvBrB;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC;AACvC,wBAAwB,mBAAO,CAAC,IAAoC;AACpE,oBAAoB,mBAAO,CAAC,IAAiC;AAC7D,wBAAwB,mBAAO,CAAC,GAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uCAAuC;;;;;;;;ACpE1B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC;AACnC,wBAAwB,mBAAO,CAAC,GAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;;;;;;;;ACnBtB;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,wBAAwB,mBAAO,CAAC,GAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,oCAAoC;;;;;;;;ACzEvB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC;AACvC,wBAAwB,mBAAO,CAAC,GAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;;;;;;;ACrD1B;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,yBAAyB,mBAAO,CAAC,IAA2B;AAC5D,4BAA4B,mBAAO,CAAC,IAA8B;AAClE,wBAAwB,mBAAO,CAAC,IAAoC;AACpE,oBAAoB,mBAAO,CAAC,IAAiC;AAC7D,wBAAwB,mBAAO,CAAC,GAA2B;AAC3D,eAAe,mBAAO,CAAC,IAAkB;AACzC,kDAAkD,mBAAO,CAAC,IAA2C;AACrG,sCAAsC,mBAAO,CAAC,IAA+B;AAC7E,2CAA2C,mBAAO,CAAC,IAAoC;AACvF,uCAAuC,mBAAO,CAAC,IAAgC;AAC/E,wCAAwC,mBAAO,CAAC,IAAiC;AACjF,2CAA2C,mBAAO,CAAC,IAAoC;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+BAA+B;;;;;;;;ACrRlB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB;AACA;AACA;AACA;AACA,CAAC,kCAAkC,gBAAgB,KAAK;;;;;;;;ACP3C;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wCAAwC,mBAAmB,KAAK;;;;;;;;ACfpD;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC,kBAAkB,KAAK;;;;;;;;ACVjD;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;;;;;;;ACpBR;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,6BAA6B,mBAAO,CAAC,IAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;;;;;;;ACtBV;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,gCAAgC,mBAAO,CAAC,IAAyB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;;;;;;;AC5BN;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,+BAA+B,mBAAO,CAAC,IAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;;;;;;;ACvBZ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,gCAAgC,mBAAO,CAAC,IAAyB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;;;;;;;ACnCR;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;AC9EJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,yBAAyB,mBAAO,CAAC,IAAwB;AACzD,2BAA2B,mBAAO,CAAC,IAA0B;AAC7D,oBAAoB,mBAAO,CAAC,GAAa;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,UAAU,GAAG,UAAU,qBAAqB,UAAU,GAAG,cAAc,GAAG,UAAU,GAAG,YAAY,GAAG,UAAU,YAAY,cAAc,YAAY,cAAc;AAC9L;AACA,0BAA0B,UAAU,GAAG,UAAU,qBAAqB,UAAU,GAAG,cAAc,GAAG,UAAU,GAAG,YAAY,GAAG,6BAA6B,GAAG,2BAA2B,GAAG,UAAU,YAAY,cAAc,YAAY,cAAc;AAC5P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;;;;;;;;ACrFL;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,yBAAyB,mBAAO,CAAC,IAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,4BAA4B;;;;;;;;ACzBf;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,yBAAyB,mBAAO,CAAC,IAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;;;;;;;AChBd;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,yBAAyB,mBAAO,CAAC,IAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,4BAA4B;;;;;;;;ACpCf;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC,GAAG,sBAAsB;AAC1D,wBAAwB,mBAAO,CAAC,GAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;;;;;;;AC3BpB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2CAA2C;AAC3C,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA,2CAA2C;;;;;;;;ACT9B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA,iCAAiC;;;;;;;;ACTpB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA,oCAAoC;;;;;;;;ACTvB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC;AACvC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA,uCAAuC;;;;;;;;ACT1B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA,qCAAqC;;;;;;;;ACTxB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wCAAwC;AACxC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,wCAAwC;;;;;;;;AClB3B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;;;;;;;;ACfrB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;;;;;;;ACdpB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA,iCAAiC;;;;;;;;ACTpB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;;;;;;;ACfpB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,wBAAwB,mBAAO,CAAC,GAAwB;AACxD,oCAAoC,mBAAO,CAAC,IAAsC;AAClF,kCAAkC,mBAAO,CAAC,IAAoC;AAC9E,6CAA6C,mBAAO,CAAC,IAA+C;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,+BAA+B;;;;;;;;ACjClB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,yBAAyB,mBAAO,CAAC,IAAwB;AACzD,wBAAwB,mBAAO,CAAC,GAAwB;AACxD,qCAAqC,mBAAO,CAAC,IAAsC;AACnF,wCAAwC,mBAAO,CAAC,IAAyC;AACzF,0CAA0C,mBAAO,CAAC,IAA2C;AAC7F,6CAA6C,mBAAO,CAAC,IAA8C;AACnG,sCAAsC,mBAAO,CAAC,IAAuC;AACrF,qCAAqC,mBAAO,CAAC,IAAsC;AACnF,qCAAqC,mBAAO,CAAC,IAAsC;AACnF,qCAAqC,mBAAO,CAAC,IAAsC;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,4BAA4B;;;;;;;;ACxFf;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,yBAAyB,mBAAO,CAAC,IAAwB;AACzD,wBAAwB,mBAAO,CAAC,GAAwB;AACxD,gDAAgD,mBAAO,CAAC,IAAiD;AACzG,2CAA2C,mBAAO,CAAC,GAA4C;AAC/F,qCAAqC,mBAAO,CAAC,IAAsC;AACnF,yCAAyC,mBAAO,CAAC,IAA0C;AAC3F,gCAAgC,mBAAO,CAAC,IAAgC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,6BAA6B;;;;;;;;ACnDhB;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,yBAAyB,mBAAO,CAAC,IAAwB;AACzD,wBAAwB,mBAAO,CAAC,GAAwB;AACxD,uCAAuC,mBAAO,CAAC,IAAgC;AAC/E,oCAAoC,mBAAO,CAAC,IAA6B;AACzE,qCAAqC,mBAAO,CAAC,IAA8B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;;;;;;;ACpIX;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC,oBAAoB,mBAAO,CAAC,IAAiC;AAC7D,yBAAyB,mBAAO,CAAC,IAA4B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;;;;;;;;ACpBnB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B,oBAAoB,mBAAO,CAAC,IAAiC;AAC7D,yBAAyB,mBAAO,CAAC,IAA4B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;;;;;;;ACpBjB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wCAAwC;AACxC,oBAAoB,mBAAO,CAAC,IAAiC;AAC7D,+BAA+B,mBAAO,CAAC,IAAkC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iBAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,wCAAwC;;;;;;;;ACrF3B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,gCAAgC,mBAAO,CAAC,IAAmC;AAC3E;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,iCAAiC;;;;;;;;ACZpB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,gCAAgC,mBAAO,CAAC,IAAmC;AAC3E;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,qCAAqC;;;;;;;;ACZxB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,kCAAkC,mBAAO,CAAC,IAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iCAAiC;;;;;;;;ACzCpB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC,+BAA+B,mBAAO,CAAC,IAAkC;AACzE,sCAAsC,mBAAO,CAAC,IAA+B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kCAAkC;;;;;;;;AC9CrB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC,+BAA+B,mBAAO,CAAC,IAAkC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD,4BAA4B,YAAY;AACxC;AACA;AACA;AACA;AACA,kCAAkC;;;;;;;;AChDrB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,yBAAyB,mBAAO,CAAC,IAA4B;AAC7D,qCAAqC,mBAAO,CAAC,IAA8B;AAC3E,sCAAsC,mBAAO,CAAC,IAA+B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,MAAM;AAClD,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,6BAA6B;;;;;;;;ACjDhB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gCAAgC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,kBAAkB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA,8BAA8B;;;;;;;;AC7EjB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC,yBAAyB,mBAAO,CAAC,IAAwB;AACzD,oBAAoB,mBAAO,CAAC,IAA8B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;;;;;;;;AC5BrB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC;AACnC,kCAAkC,mBAAO,CAAC,IAAmC;AAC7E,oCAAoC,mBAAO,CAAC,IAAqC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;;;;;;;;ACjHa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,eAAe,mBAAO,CAAC,IAAe;AACtC,uCAAuC,mBAAO,CAAC,IAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;;;;;;;AClDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA,4BAA4B;;;;;;;;ACff;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,iCAAiC,mBAAO,CAAC,IAA0B;AACnE,wCAAwC,mBAAO,CAAC,IAAiC;AACjF,gCAAgC,mBAAO,CAAC,IAAyB;AACjE,+BAA+B,mBAAO,CAAC,IAAwB;AAC/D;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;;;;;;;;ACba;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,sBAAsB,mBAAO,CAAC,IAAsB;AACpD,wBAAwB,mBAAO,CAAC,GAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;;;;;;;ACxBV;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,wBAAwB,mBAAO,CAAC,IAAgC;AAChE,wBAAwB,mBAAO,CAAC,GAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;;;;;;;;AC1JT;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;AC7Da;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;;;;;;;;AC5CP;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,YAAY;;;;;;;;ACbC;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,yBAAyB,mBAAO,CAAC,IAAwB;AACzD,4BAA4B,mBAAO,CAAC,IAA2B;AAC/D,wBAAwB,mBAAO,CAAC,GAAwB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;;;;;;UCjK/B;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;ACtBa;AACb,6BAA6C,EAAE,aAAa,CAAC;AAC7D,yBAAgB;AAChB,4BAA4B,mBAAO,CAAC,IAAiC;AACrE,0BAA0B,mBAAO,CAAC,IAAmC;AACrE,yBAAyB,mBAAO,CAAC,IAAkB;AACnD,iBAAiB,mBAAO,CAAC,IAAU;AACnC,kCAAkC,mBAAO,CAAC,IAAoC;AAC9E;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAgB;AAChB;AACA","sources":["webpack://@wsplayer/webpack_01/./controllers/player-controller.ts","webpack://@wsplayer/webpack_01/./controllers/screen/player-screen.controller.ts","webpack://@wsplayer/webpack_01/./controllers/sound/player-sound-volume.controller.ts","webpack://@wsplayer/webpack_01/./controllers/sound/player-sound.controller.ts","webpack://@wsplayer/webpack_01/./controllers/video/player-video-capture-picture.controller.ts","webpack://@wsplayer/webpack_01/./controllers/video/player-video-osd.controller.ts","webpack://@wsplayer/webpack_01/./controllers/video/player-video-position.controller.ts","webpack://@wsplayer/webpack_01/./controllers/video/player-video-rule-controller.ts","webpack://@wsplayer/webpack_01/./controllers/video/player-video-speed.controller.ts","webpack://@wsplayer/webpack_01/./controllers/video/player-video-subtitle.controller.ts","webpack://@wsplayer/webpack_01/./controllers/video/player-video.controller.ts","webpack://@wsplayer/webpack_01/./enum/play-mode.enum.ts","webpack://@wsplayer/webpack_01/./enum/player-state.enum.ts","webpack://@wsplayer/webpack_01/./enum/stream-type.enum.ts","webpack://@wsplayer/webpack_01/./models/private-point-f.model.ts","webpack://@wsplayer/webpack_01/./models/private-rule-list.model.ts","webpack://@wsplayer/webpack_01/./models/private-rule.model.ts","webpack://@wsplayer/webpack_01/./models/private-target-list.model.ts","webpack://@wsplayer/webpack_01/./models/private-target.model.ts","webpack://@wsplayer/webpack_01/./models/url.model.ts","webpack://@wsplayer/webpack_01/./models/video.model.ts","webpack://@wsplayer/webpack_01/./player-controls/abstract/player-control-button.a.ts","webpack://@wsplayer/webpack_01/./player-controls/abstract/player-control.slide.ts","webpack://@wsplayer/webpack_01/./player-controls/abstract/player-control.switch.ts","webpack://@wsplayer/webpack_01/./player-controls/abstract/player-control.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-capture-picture.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-fast.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-forward.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-fullscreen.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-jump-back.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-jump-forward.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-pause.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-play.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-slow.button.ts","webpack://@wsplayer/webpack_01/./player-controls/buttons/player-control-stop.button.ts","webpack://@wsplayer/webpack_01/./player-controls/player-control-position.tool.ts","webpack://@wsplayer/webpack_01/./player-controls/player-control-video.tool.ts","webpack://@wsplayer/webpack_01/./player-controls/player-control-widget.tool.ts","webpack://@wsplayer/webpack_01/./player-controls/player-controls.ts","webpack://@wsplayer/webpack_01/./player-controls/position/player-control-time-begin.ts","webpack://@wsplayer/webpack_01/./player-controls/position/player-control-time-end.ts","webpack://@wsplayer/webpack_01/./player-controls/position/player-control-time-position.slide.ts","webpack://@wsplayer/webpack_01/./player-controls/switchs/player-control-rule.switch.ts","webpack://@wsplayer/webpack_01/./player-controls/switchs/player-control-subtitle.switch.ts","webpack://@wsplayer/webpack_01/./player-controls/volume/player-control-volume-icon.ts","webpack://@wsplayer/webpack_01/./player-controls/volume/player-control-volume-panel.ts","webpack://@wsplayer/webpack_01/./player-controls/volume/player-control-volume-slide.ts","webpack://@wsplayer/webpack_01/./player-controls/volume/player-control-volume.ts","webpack://@wsplayer/webpack_01/./player-helpers/player-analysis.helper.ts","webpack://@wsplayer/webpack_01/./player-helpers/player-capture-picture.helper.ts","webpack://@wsplayer/webpack_01/./player-helpers/player-element-canvas.helper.ts","webpack://@wsplayer/webpack_01/./player-helpers/player-element.helper.ts","webpack://@wsplayer/webpack_01/./player-helpers/player-plugin.helper.ts","webpack://@wsplayer/webpack_01/./player-helpers/player.helper.ts","webpack://@wsplayer/webpack_01/./player.storage.ts","webpack://@wsplayer/webpack_01/./plugin.ts","webpack://@wsplayer/webpack_01/./tools/date-tool/date.tool.ts","webpack://@wsplayer/webpack_01/./tools/event-emitter.ts","webpack://@wsplayer/webpack_01/./tools/wait.ts","webpack://@wsplayer/webpack_01/./triggers/player-controls.trigger.ts","webpack://@wsplayer/webpack_01/webpack/bootstrap","webpack://@wsplayer/webpack_01/./player.ts"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerController = void 0;\r\nconst event_emitter_1 = require(\"../tools/event-emitter\");\r\nconst player_screen_controller_1 = require(\"./screen/player-screen.controller\");\r\nconst player_sound_controller_1 = require(\"./sound/player-sound.controller\");\r\nconst player_video_controller_1 = require(\"./video/player-video.controller\");\r\nclass WSPlayerController {\r\n    constructor(storage, controls, getplugin) {\r\n        this.event = {\r\n            video: new event_emitter_1.EventEmitter(),\r\n            screen: new event_emitter_1.EventEmitter(),\r\n        };\r\n        this.sound = new player_sound_controller_1.WSPlayerSoundController(controls, getplugin);\r\n        this.video = new player_video_controller_1.WSPlayerVideoController(storage, controls, getplugin);\r\n        this.screen = new player_screen_controller_1.WSPlayerScreenController(storage, getplugin);\r\n        this.regist();\r\n    }\r\n    regist() {\r\n        this.registvideo();\r\n        this.registscreen();\r\n    }\r\n    registvideo() {\r\n        this.video.event.on('playing', () => {\r\n            this.event.video.emit('playing');\r\n        });\r\n        this.video.event.on('stoping', () => {\r\n            this.event.video.emit('stoping');\r\n        });\r\n        this.video.event.on('position', (value) => {\r\n            this.event.video.emit('position', value);\r\n        });\r\n        this.video.event.on('time', (value) => {\r\n            this.event.video.emit('time', value);\r\n        });\r\n        this.video.event.on('state', (state) => {\r\n            this.event.video.emit('state', state);\r\n        });\r\n        this.video.event.on('rule', (enabled) => {\r\n            this.event.video.emit('rule', enabled);\r\n        });\r\n        this.video.event.on('subtitle', (enabled) => {\r\n            this.event.video.emit('subtitle', enabled);\r\n        });\r\n    }\r\n    registscreen() {\r\n        this.screen.event.on('change', (isfull) => {\r\n            this.event.screen.emit('change', isfull);\r\n        });\r\n        this.screen.event.on('click', () => {\r\n            this.event.screen.emit('click');\r\n        });\r\n        this.screen.event.on('dblclick', () => {\r\n            this.event.screen.emit('dblclick');\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerController = WSPlayerController;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerScreenController = void 0;\r\nconst player_helper_1 = require(\"../../player-helpers/player.helper\");\r\nconst event_emitter_1 = require(\"../../tools/event-emitter\");\r\nclass WSPlayerScreenController {\r\n    constructor(storage, getplugin) {\r\n        this.storage = storage;\r\n        this.getplugin = getplugin;\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this.reigst();\r\n    }\r\n    get plugin() {\r\n        return this.getplugin();\r\n    }\r\n    get isfull() {\r\n        return !!(document.fullscreen ||\r\n            document.mozFullScreen ||\r\n            document.webkitIsFullScreen ||\r\n            document.webkitFullScreen ||\r\n            document.msFullScreen);\r\n    }\r\n    full() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_FullScreenSingle();\r\n            this.storage.fullscreen = true;\r\n            this.resize(window.screen.width, window.screen.height);\r\n        });\r\n    }\r\n    exit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let element = document.documentElement; //若要全屏页面中div，var element= document.getElementById(\"divID\");\r\n            //IE ActiveXObject\r\n            if (window.ActiveXObject) {\r\n                let WsShell = new ActiveXObject('WScript.Shell');\r\n                WsShell.SendKeys('{ESC}');\r\n            }\r\n            //HTML5 W3C 提议\r\n            else if (element.requestFullScreen) {\r\n                document.exitFullscreen();\r\n            }\r\n            //IE 11\r\n            else if (element.msRequestFullscreen) {\r\n                document.msExitFullscreen();\r\n            }\r\n            // Webkit (works in Safari5.1 and Chrome 15)\r\n            else if (element.webkitRequestFullScreen) {\r\n                document.webkitCancelFullScreen();\r\n            }\r\n            // Firefox (works in nightly)\r\n            else if (element.mozRequestFullScreen) {\r\n                document.mozCancelFullScreen();\r\n            }\r\n            this.storage.fullscreen = false;\r\n            this.resize();\r\n        });\r\n    }\r\n    reigst() {\r\n        document.addEventListener('webkitfullscreenchange', (e) => {\r\n            let target = e.currentTarget;\r\n            console.log('webkitfullscreenchange', this.isfull, target);\r\n            if (!this.isfull) {\r\n                this.resize();\r\n            }\r\n        });\r\n        document.addEventListener('fullscreenchange', (e) => {\r\n            let target = e.currentTarget;\r\n            console.log('fullscreenchange', this.isfull, target);\r\n        });\r\n        window.addEventListener('resize', (e) => {\r\n            this.resize(window.innerWidth, window.innerHeight);\r\n        });\r\n        this.registwnd();\r\n    }\r\n    registwnd() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let wnd = yield player_helper_1.WSPlayerHelper.element.getwnd(this.storage.html.element);\r\n            wnd.addEventListener('dblclick', (e) => {\r\n                if (this.isfull) {\r\n                    this.exit();\r\n                }\r\n                else {\r\n                    this.full();\r\n                }\r\n                this.event.emit('dblclick');\r\n            });\r\n            wnd.addEventListener('click', (e) => {\r\n                this.event.emit('click');\r\n            });\r\n        });\r\n    }\r\n    resize(width, height) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let _width = width !== null && width !== void 0 ? width : this.storage.html.width;\r\n            let _height = height !== null && height !== void 0 ? height : this.storage.html.height;\r\n            let plugin = yield this.plugin;\r\n            var scale = 1 / player_helper_1.WSPlayerHelper.element.ratio;\r\n            plugin.JS_Resize(_width * scale, _height * scale);\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerScreenController = WSPlayerScreenController;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerVolumeController = void 0;\r\nclass WSPlayerVolumeController {\r\n    constructor(controls, getplugin) {\r\n        this.controls = controls;\r\n        this.getplugin = getplugin;\r\n    }\r\n    get plugin() {\r\n        return this.getplugin();\r\n    }\r\n    get() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let value = 0;\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_GetVolume(value);\r\n            return value;\r\n        });\r\n    }\r\n    set(value) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_SetVolume(value);\r\n            this.controls.widget.volume.icon.value = value > 0;\r\n            this.controls.widget.volume.panel.value = value;\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerVolumeController = WSPlayerVolumeController;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerSoundController = void 0;\r\nconst player_sound_volume_controller_1 = require(\"./player-sound-volume.controller\");\r\nclass WSPlayerSoundController {\r\n    get volume() {\r\n        return this._volume;\r\n    }\r\n    constructor(controls, getplugin) {\r\n        this.controls = controls;\r\n        this.getplugin = getplugin;\r\n        this._volume = new player_sound_volume_controller_1.WSPlayerVolumeController(controls, getplugin);\r\n    }\r\n    get plugin() {\r\n        return this.getplugin();\r\n    }\r\n    open() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            if (this.controls.widget.volume.icon.value)\r\n                return;\r\n            plugin.JS_OpenSound();\r\n            this.controls.widget.volume.icon.value = true;\r\n        });\r\n    }\r\n    close() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            if (!this.controls.widget.volume.icon.value)\r\n                return;\r\n            plugin.JS_CloseSound();\r\n            this.controls.widget.volume.icon.value = false;\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerSoundController = WSPlayerSoundController;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlayerVideoCapturePictureController = void 0;\r\nconst play_mode_enum_1 = require(\"../../enum/play-mode.enum\");\r\nconst player_helper_1 = require(\"../../player-helpers/player.helper\");\r\nclass PlayerVideoCapturePictureController {\r\n    constructor(storage, controls, getplugin) {\r\n        this.storage = storage;\r\n        this.controls = controls;\r\n        this.getplugin = getplugin;\r\n    }\r\n    get plugin() {\r\n        return this.getplugin();\r\n    }\r\n    download() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            let model = yield this.storage.model;\r\n            let time = new Date();\r\n            if (model.mode == play_mode_enum_1.PlayMode.vod) {\r\n                time = new Date(this.controls.position.position.value);\r\n            }\r\n            let name = player_helper_1.WSPlayerHelper.capturepicture.getName(model, time, this.storage.name);\r\n            if (name) {\r\n                plugin.JS_CapturePicture(name, 'JPEG');\r\n            }\r\n        });\r\n    }\r\n    get() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            let data = yield plugin.JS_CapturePictureData();\r\n            return player_helper_1.WSPlayerHelper.analysis.Uint8ArrayToString(data);\r\n        });\r\n    }\r\n}\r\nexports.PlayerVideoCapturePictureController = PlayerVideoCapturePictureController;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerVideoOSDController = void 0;\r\nclass WSPlayerVideoOSDController {\r\n    constructor(getplugin) {\r\n        this.getplugin = getplugin;\r\n    }\r\n    get() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.getplugin();\r\n            return plugin.JS_GetOSDTime();\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerVideoOSDController = WSPlayerVideoOSDController;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerVideoPositionController = void 0;\r\nconst player_helper_1 = require(\"../../player-helpers/player.helper\");\r\nconst date_tool_1 = require(\"../../tools/date-tool/date.tool\");\r\nconst event_emitter_1 = require(\"../../tools/event-emitter\");\r\nclass WSPlayerVideoPositionController {\r\n    constructor(video, controls) {\r\n        this.video = video;\r\n        this.controls = controls;\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this.regist(controls);\r\n    }\r\n    get value() {\r\n        return this.controls.position.position.value;\r\n    }\r\n    regist(controls) {\r\n        controls.position.position.event.on('change', this.change.bind(this));\r\n        controls.position.position.event.on('mousedown', this.mousedown.bind(this));\r\n    }\r\n    on(position) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (position.data) {\r\n                let current = player_helper_1.WSPlayerHelper.analysis.getPosition(position.data);\r\n                if (Number.isNaN(current.getTime())) {\r\n                    return;\r\n                }\r\n                current = date_tool_1.DateTool.timezone.restore(current);\r\n                this.controls.position.position.value = current.getTime();\r\n                this.event.emit('position', this.controls.position.position.ratio);\r\n                let time = new Date(current.getTime() - this.controls.position.position.min);\r\n                time = date_tool_1.DateTool.timezone.remove(time);\r\n                this.controls.position.begin.value = new Date(time.getTime());\r\n                this.event.emit('time', {\r\n                    current: time,\r\n                    min: this.controls.position.position.min,\r\n                    max: this.controls.position.position.max,\r\n                });\r\n                if (this.controls.position.position.value >=\r\n                    this.controls.position.position.max) {\r\n                    throw new Error('视频播放结束');\r\n                }\r\n            }\r\n        });\r\n    }\r\n    mousedown() {\r\n        return this.video.pause();\r\n    }\r\n    mouseout() {\r\n        return this.video.resume();\r\n    }\r\n    change(value) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.video.pause();\r\n            yield this.video.seek(value);\r\n            yield this.video.resume();\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerVideoPositionController = WSPlayerVideoPositionController;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerVideoRuleController = void 0;\r\nconst event_emitter_1 = require(\"../../tools/event-emitter\");\r\nclass WSPlayerVideoRuleController {\r\n    constructor(controls) {\r\n        this.controls = controls;\r\n        this.event = new event_emitter_1.EventEmitter();\r\n    }\r\n    get enabled() {\r\n        return this.controls.widget.rule.value;\r\n    }\r\n    set enabled(value) {\r\n        if (this.controls.widget.rule.value === value)\r\n            return;\r\n        this.controls.widget.rule.value = value;\r\n        this.event.emit('change', this.controls.widget.rule.value);\r\n    }\r\n}\r\nexports.WSPlayerVideoRuleController = WSPlayerVideoRuleController;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerVideoSpeedController = void 0;\r\nconst event_emitter_1 = require(\"../../tools/event-emitter\");\r\nclass WSPlayerVideoSpeedController {\r\n    constructor(getplugin) {\r\n        this.getplugin = getplugin;\r\n        this.event = new event_emitter_1.EventEmitter();\r\n    }\r\n    get plugin() {\r\n        return this.getplugin();\r\n    }\r\n    status() {\r\n        return this.plugin.then((x) => {\r\n            return x.JS_GetWndStatus();\r\n        });\r\n    }\r\n    fast() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let status = yield this.status();\r\n            if (typeof status === 'number')\r\n                return;\r\n            if (status.iRate >= 4)\r\n                return;\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_Fast();\r\n            if (status.iRate > 1) {\r\n                this.event.emit('fast');\r\n            }\r\n        });\r\n    }\r\n    slow() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let status = yield this.status();\r\n            if (typeof status === 'number')\r\n                return;\r\n            if (status.iRate <= -4)\r\n                return;\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_Slow();\r\n            if (status.iRate < 1) {\r\n                this.event.emit('slow');\r\n            }\r\n        });\r\n    }\r\n    resume() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let status = yield this.status();\r\n            if (typeof status === 'number')\r\n                return;\r\n            if (status.iRate > 1) {\r\n                yield this.slow();\r\n                return this.resume();\r\n            }\r\n            else if (status.iRate < 1) {\r\n                yield this.fast();\r\n                return this.resume();\r\n            }\r\n            else {\r\n                this.event.emit('resume');\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerVideoSpeedController = WSPlayerVideoSpeedController;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerVideoSubtitleController = void 0;\r\nconst event_emitter_1 = require(\"../../tools/event-emitter\");\r\nclass WSPlayerVideoSubtitleController {\r\n    constructor(controls, storage) {\r\n        this.controls = controls;\r\n        this.storage = storage;\r\n        this.event = new event_emitter_1.EventEmitter();\r\n    }\r\n    get enabled() {\r\n        return this.controls.widget.subtitle.value;\r\n    }\r\n    set enabled(value) {\r\n        if (this.controls.widget.subtitle.value === value)\r\n            return;\r\n        this.controls.widget.subtitle.value = value;\r\n        this.event.emit('change', this.controls.widget.subtitle.value);\r\n        this.init();\r\n    }\r\n    set(text) {\r\n        if (this.content && this.enabled) {\r\n            this.content.innerText = text;\r\n        }\r\n    }\r\n    init() {\r\n        if (this.enabled) {\r\n            if (!this.element) {\r\n                this.append(this.storage.html.element);\r\n            }\r\n        }\r\n        else {\r\n            if (this.element) {\r\n                this.remove(this.storage.html.element);\r\n            }\r\n        }\r\n    }\r\n    append(parent) {\r\n        this.element = document.createElement('div');\r\n        this.element.className = 'player-subtitle';\r\n        this.content = document.createElement('div');\r\n        this.content.className = 'player-subtitle-content';\r\n        this.element.appendChild(this.content);\r\n        parent.appendChild(this.element);\r\n    }\r\n    remove(parent) {\r\n        if (this.element) {\r\n            parent.removeChild(this.element);\r\n            this.element = undefined;\r\n            this.content = undefined;\r\n        }\r\n    }\r\n}\r\nexports.WSPlayerVideoSubtitleController = WSPlayerVideoSubtitleController;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerVideoController = void 0;\r\nconst play_mode_enum_1 = require(\"../../enum/play-mode.enum\");\r\nconst player_state_enum_1 = require(\"../../enum/player-state.enum\");\r\nconst player_helper_1 = require(\"../../player-helpers/player.helper\");\r\nconst date_tool_1 = require(\"../../tools/date-tool/date.tool\");\r\nconst event_emitter_1 = require(\"../../tools/event-emitter\");\r\nconst wait_1 = require(\"../../tools/wait\");\r\nconst player_video_capture_picture_controller_1 = require(\"./player-video-capture-picture.controller\");\r\nconst player_video_osd_controller_1 = require(\"./player-video-osd.controller\");\r\nconst player_video_position_controller_1 = require(\"./player-video-position.controller\");\r\nconst player_video_rule_controller_1 = require(\"./player-video-rule-controller\");\r\nconst player_video_speed_controller_1 = require(\"./player-video-speed.controller\");\r\nconst player_video_subtitle_controller_1 = require(\"./player-video-subtitle.controller\");\r\nclass WSPlayerVideoController {\r\n    get rule() {\r\n        return this._rule;\r\n    }\r\n    get subtitle() {\r\n        return this._subtitle;\r\n    }\r\n    get capturepicture() {\r\n        return this._capturepicture;\r\n    }\r\n    get position() {\r\n        return this._position;\r\n    }\r\n    get speed() {\r\n        return this._speed;\r\n    }\r\n    get osd() {\r\n        return this._osd;\r\n    }\r\n    constructor(storage, controls, getplugin) {\r\n        this.storage = storage;\r\n        this.controls = controls;\r\n        this.getplugin = getplugin;\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this._state = player_state_enum_1.PlayerState.ready;\r\n        this._position = new player_video_position_controller_1.WSPlayerVideoPositionController(this, controls);\r\n        this._rule = new player_video_rule_controller_1.WSPlayerVideoRuleController(controls);\r\n        this._subtitle = new player_video_subtitle_controller_1.WSPlayerVideoSubtitleController(controls, storage);\r\n        this._capturepicture = new player_video_capture_picture_controller_1.PlayerVideoCapturePictureController(storage, controls, getplugin);\r\n        this._speed = new player_video_speed_controller_1.WSPlayerVideoSpeedController(getplugin);\r\n        this._osd = new player_video_osd_controller_1.WSPlayerVideoOSDController(getplugin);\r\n        this.regist();\r\n    }\r\n    regist() {\r\n        this._position.event.on('position', (value) => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('position', value);\r\n        }));\r\n        this._position.event.on('time', (value) => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('time', value);\r\n        }));\r\n        this._rule.event.on('change', (value) => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('rule', value);\r\n        }));\r\n        this._speed.event.on('fast', () => {\r\n            this.state = player_state_enum_1.PlayerState.fast;\r\n            console.log('speed fasted');\r\n        });\r\n        this._speed.event.on('slow', () => {\r\n            this.state = player_state_enum_1.PlayerState.slow;\r\n            console.log('speed slowed');\r\n        });\r\n        this._speed.event.on('resume', () => {\r\n            this.state = player_state_enum_1.PlayerState.playing;\r\n            console.log('speed resumed');\r\n        });\r\n        document.addEventListener('visibilitychange', (e) => {\r\n            if (document.visibilityState == 'visible') {\r\n                if (this.storage.model.mode == play_mode_enum_1.PlayMode.vod) {\r\n                    this.resume();\r\n                }\r\n                else {\r\n                    this.play();\r\n                }\r\n            }\r\n            if (document.visibilityState == 'hidden') {\r\n                if (this.storage.model.mode == play_mode_enum_1.PlayMode.vod) {\r\n                    this.pause();\r\n                }\r\n                else {\r\n                    this.stop();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    get plugin() {\r\n        return this.getplugin();\r\n    }\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    set state(v) {\r\n        if (this._state === v)\r\n            return;\r\n        this._state = v;\r\n        this.event.emit('state', this._state);\r\n    }\r\n    play() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.state = player_state_enum_1.PlayerState.opening;\r\n            let canvas = player_helper_1.WSPlayerHelper.element.canvas.get(this.storage.html.element);\r\n            player_helper_1.WSPlayerHelper.element.canvas.clear(canvas);\r\n            player_helper_1.WSPlayerHelper.element.loading(this.storage.html.element);\r\n            let plugin = yield this.plugin;\r\n            let url = this.storage.url;\r\n            plugin\r\n                .JS_Play(url, {\r\n                onDebug: (debug) => {\r\n                    console.log(debug);\r\n                },\r\n                onPlaying: this.onplaying.bind(this),\r\n                getPosition: (data) => {\r\n                    if (this.state == player_state_enum_1.PlayerState.playing &&\r\n                        this.storage.model.mode == play_mode_enum_1.PlayMode.vod) {\r\n                        this._position.on(data).catch((x) => {\r\n                            this.stop();\r\n                        });\r\n                    }\r\n                },\r\n                readMediaPrivateData: (data) => {\r\n                    this.readMediaPrivateData(canvas, data);\r\n                },\r\n            })\r\n                .then(() => {\r\n                (0, wait_1.wait)(() => {\r\n                    return this.state == player_state_enum_1.PlayerState.playing;\r\n                }, () => {\r\n                    let model = this.storage.model;\r\n                    this.controls.reload(this.storage.html.element, model.mode);\r\n                    if (model.mode == play_mode_enum_1.PlayMode.vod &&\r\n                        model.beginTime &&\r\n                        model.endTime) {\r\n                        this.controls.position.end.value = date_tool_1.DateTool.interval(model.beginTime, model.endTime);\r\n                        this.controls.position.begin.value = date_tool_1.DateTool.timezone.remove(new Date(0));\r\n                        this.controls.position.position.min = model.beginTime.getTime();\r\n                        this.controls.position.position.max = model.endTime.getTime();\r\n                    }\r\n                }, 1);\r\n            });\r\n        });\r\n    }\r\n    onplaying() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield player_helper_1.WSPlayerHelper.element.getwnd(this.storage.html.element);\r\n            player_helper_1.WSPlayerHelper.element.loading(this.storage.html.element, false);\r\n            switch (this.state) {\r\n                case player_state_enum_1.PlayerState.pause:\r\n                case player_state_enum_1.PlayerState.frame:\r\n                    break;\r\n                default:\r\n                    this.state = player_state_enum_1.PlayerState.playing;\r\n                    break;\r\n            }\r\n            this.event.emit('playing');\r\n        });\r\n    }\r\n    readMediaPrivateData(canvas, data) {\r\n        let draw_target = false;\r\n        try {\r\n            if (this._rule.enabled) {\r\n                draw_target = player_helper_1.WSPlayerHelper.analysis.readMediaPrivateData(data, {\r\n                    loadPrivateTargetList: (dataview, offset) => {\r\n                        player_helper_1.WSPlayerHelper.element.canvas.clear(canvas);\r\n                        player_helper_1.WSPlayerHelper.element.canvas.loadPrivateTargetList(canvas, dataview, offset);\r\n                    },\r\n                });\r\n            }\r\n        }\r\n        finally {\r\n            player_helper_1.WSPlayerHelper.element.canvas.lazyclear(canvas, draw_target);\r\n        }\r\n    }\r\n    resume() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            player_helper_1.WSPlayerHelper.element.loading(this.storage.html.element);\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_Resume();\r\n            this.state = player_state_enum_1.PlayerState.playing;\r\n        });\r\n    }\r\n    stop() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            player_helper_1.WSPlayerHelper.element.loading(this.storage.html.element, false);\r\n            let canvas = player_helper_1.WSPlayerHelper.element.canvas.get(this.storage.html.element);\r\n            player_helper_1.WSPlayerHelper.element.canvas.clear(canvas);\r\n            switch (this.state) {\r\n                case player_state_enum_1.PlayerState.closing:\r\n                case player_state_enum_1.PlayerState.closed:\r\n                    return;\r\n                default:\r\n                    break;\r\n            }\r\n            try {\r\n                this.state = player_state_enum_1.PlayerState.closing;\r\n                yield plugin.JS_Stop();\r\n                this.state = player_state_enum_1.PlayerState.closed;\r\n            }\r\n            finally {\r\n                this.controls.control.play.show = true;\r\n                if (this.controls.control.pause) {\r\n                    this.controls.control.pause.show = false;\r\n                }\r\n                if (this.controls.control.stop) {\r\n                    this.controls.control.stop.show = false;\r\n                }\r\n                this.event.emit('stoping');\r\n            }\r\n        });\r\n    }\r\n    pause() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_Pause();\r\n            this.state = player_state_enum_1.PlayerState.pause;\r\n            let canvas = player_helper_1.WSPlayerHelper.element.canvas.get(this.storage.html.element);\r\n            player_helper_1.WSPlayerHelper.element.canvas.clear(canvas);\r\n        });\r\n    }\r\n    forward() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_FrameForward();\r\n            this.state = player_state_enum_1.PlayerState.frame;\r\n        });\r\n    }\r\n    jump_back() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let current = this.controls.position.position.value;\r\n            let time = new Date(current);\r\n            time.setSeconds(time.getSeconds() - 30);\r\n            let value = time.getTime() - this.controls.position.position.min;\r\n            if (value <= 0) {\r\n                value = 0;\r\n            }\r\n            this.seek(value);\r\n        });\r\n    }\r\n    jump_forward() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let current = this.controls.position.position.value;\r\n            let time = new Date(current);\r\n            time.setSeconds(time.getSeconds() + 30);\r\n            let value = time.getTime() - this.controls.position.position.min;\r\n            if (value < this.controls.position.position.max) {\r\n                this.seek(value);\r\n            }\r\n        });\r\n    }\r\n    seek(value) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plugin = yield this.plugin;\r\n            plugin.JS_Seek(value / 1000);\r\n        });\r\n    }\r\n    download(filename, type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.storage.model.mode == play_mode_enum_1.PlayMode.vod) {\r\n                let plugin = yield this.plugin;\r\n                plugin.JS_Download(filename, type);\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerVideoController = WSPlayerVideoController;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlayMode = void 0;\r\nvar PlayMode;\r\n(function (PlayMode) {\r\n    PlayMode[\"vod\"] = \"vod\";\r\n    PlayMode[\"live\"] = \"live\";\r\n})(PlayMode = exports.PlayMode || (exports.PlayMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlayerState = void 0;\r\nvar PlayerState;\r\n(function (PlayerState) {\r\n    PlayerState[PlayerState[\"ready\"] = 0] = \"ready\";\r\n    PlayerState[PlayerState[\"playing\"] = 1] = \"playing\";\r\n    PlayerState[PlayerState[\"pause\"] = 2] = \"pause\";\r\n    PlayerState[PlayerState[\"slow\"] = 3] = \"slow\";\r\n    PlayerState[PlayerState[\"fast\"] = 4] = \"fast\";\r\n    PlayerState[PlayerState[\"end\"] = 5] = \"end\";\r\n    PlayerState[PlayerState[\"opening\"] = 6] = \"opening\";\r\n    PlayerState[PlayerState[\"closing\"] = 7] = \"closing\";\r\n    PlayerState[PlayerState[\"frame\"] = 8] = \"frame\";\r\n    PlayerState[PlayerState[\"closed\"] = 255] = \"closed\";\r\n})(PlayerState = exports.PlayerState || (exports.PlayerState = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StreamType = void 0;\r\n/**流类型：1-主码流，2-子码流 */\r\nvar StreamType;\r\n(function (StreamType) {\r\n    /** 1-主码流 */\r\n    StreamType[StreamType[\"main\"] = 1] = \"main\";\r\n    /** 2-子码流 */\r\n    StreamType[StreamType[\"sub\"] = 2] = \"sub\";\r\n})(StreamType = exports.StreamType || (exports.StreamType = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PrivatePointF = void 0;\r\nclass PrivatePointF {\r\n    constructor() {\r\n        this.X = 0.0;\r\n        this.Y = 0.0;\r\n    }\r\n    static load(dataview, offset) {\r\n        let struct = new PrivatePointF();\r\n        struct.X = dataview.getFloat32(offset, true);\r\n        offset += 4;\r\n        struct.Y = dataview.getFloat32(offset, true);\r\n        offset += 4;\r\n        return {\r\n            struct: struct,\r\n            offset: offset,\r\n        };\r\n    }\r\n}\r\nexports.PrivatePointF = PrivatePointF;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PrivateRuleList = void 0;\r\nconst private_rule_model_1 = require(\"./private-rule.model\");\r\nclass PrivateRuleList {\r\n    constructor() {\r\n        this.RuleNumber = 0;\r\n        this.Rule = [];\r\n    }\r\n    static load(dataview, offset) {\r\n        let struct = new PrivateRuleList();\r\n        struct.RuleNumber = dataview.getInt32(offset, true);\r\n        struct.Rule = [];\r\n        offset += 4;\r\n        for (let i = 0; i < struct.RuleNumber; i++) {\r\n            let result = private_rule_model_1.PrivateRule.load(dataview, offset);\r\n            struct.Rule.push(result.struct);\r\n            offset = result.offset;\r\n        }\r\n        return struct;\r\n    }\r\n}\r\nexports.PrivateRuleList = PrivateRuleList;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PrivateRule = void 0;\r\nconst private_point_f_model_1 = require(\"./private-point-f.model\");\r\nclass PrivateRule {\r\n    constructor() {\r\n        this.RuleID = 0;\r\n        this.VertexNumber = 0;\r\n        this.Point = [];\r\n    }\r\n    static load(dataview, offset) {\r\n        let struct = new PrivateRule();\r\n        struct.RuleID = dataview.getInt32(offset, true);\r\n        offset += 4;\r\n        struct.VertexNumber = dataview.getInt32(offset, true);\r\n        offset += 4;\r\n        struct.Point = [];\r\n        for (let i = 0; i < struct.VertexNumber; i++) {\r\n            let result = private_point_f_model_1.PrivatePointF.load(dataview, offset);\r\n            struct.Point.push(result.struct);\r\n            offset = result.offset;\r\n        }\r\n        return {\r\n            struct: struct,\r\n            offset: offset,\r\n        };\r\n    }\r\n}\r\nexports.PrivateRule = PrivateRule;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PrivateTargetList = void 0;\r\nconst private_target_model_1 = require(\"./private-target.model\");\r\nclass PrivateTargetList {\r\n    constructor() {\r\n        this.TargetNumber = 0;\r\n        this.Target = [];\r\n    }\r\n    static load(dataview, offset) {\r\n        let struct = new PrivateTargetList();\r\n        struct.TargetNumber = dataview.getInt32(offset, true);\r\n        offset += 4;\r\n        struct.Target = [];\r\n        for (let i = 0; i < 16; i++) {\r\n            let result = private_target_model_1.PrivateTarget.load(dataview, offset);\r\n            struct.Target.push(result.struct);\r\n            offset = result.offset;\r\n        }\r\n        struct.Target.slice(0, struct.TargetNumber);\r\n        return struct;\r\n    }\r\n}\r\nexports.PrivateTargetList = PrivateTargetList;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PrivateTarget = void 0;\r\nconst private_point_f_model_1 = require(\"./private-point-f.model\");\r\nclass PrivateTarget {\r\n    constructor() {\r\n        this.Id = 0;\r\n        this.BlobType = 0;\r\n        this.Confidence = 0;\r\n        this.VertexNumber = 0;\r\n        this.Point = [];\r\n    }\r\n    static load(dataview, offset) {\r\n        let struct = new PrivateTarget();\r\n        struct.Id = dataview.getInt32(offset, true);\r\n        offset += 4;\r\n        struct.BlobType = dataview.getInt32(offset, true);\r\n        offset += 4;\r\n        struct.Confidence = dataview.getInt32(offset, true);\r\n        offset += 4;\r\n        struct.VertexNumber = dataview.getInt32(offset, true);\r\n        offset += 4;\r\n        struct.Point = [];\r\n        for (let i = 0; i < 10; i++) {\r\n            let result = private_point_f_model_1.PrivatePointF.load(dataview, offset);\r\n            struct.Point.push(result.struct);\r\n            offset = result.offset;\r\n        }\r\n        struct.Point = struct.Point.slice(0, struct.VertexNumber);\r\n        return {\r\n            struct: struct,\r\n            offset: offset,\r\n        };\r\n    }\r\n}\r\nexports.PrivateTarget = PrivateTarget;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HowellUrl = void 0;\r\nclass HowellUrl {\r\n    constructor(uri) {\r\n        if (uri.lastIndexOf('#') === uri.length - 1) {\r\n            uri = uri.substr(0, uri.length - 1);\r\n        }\r\n        let temp;\r\n        const schemeIndex = uri.indexOf(':') + 3;\r\n        const userInfoIndex = uri.indexOf('@');\r\n        let authorityIndex = uri.indexOf('/', schemeIndex);\r\n        if (authorityIndex < 0) {\r\n            authorityIndex = uri.length;\r\n        }\r\n        const queryIndex = uri.indexOf('?');\r\n        this.Origin = uri;\r\n        if (queryIndex > 0) {\r\n            this.Origin = uri.substr(0, queryIndex);\r\n        }\r\n        this.AbsoluteUri = uri;\r\n        this.Scheme = uri.substr(0, schemeIndex - 3);\r\n        if (userInfoIndex > 0) {\r\n            this.UserInfo = uri.substr(schemeIndex, userInfoIndex - schemeIndex);\r\n            this.Authority = uri.substr(userInfoIndex + 1, authorityIndex - userInfoIndex - 1);\r\n        }\r\n        else {\r\n            this.Authority = uri.substr(schemeIndex, authorityIndex - schemeIndex);\r\n        }\r\n        this.Port = 80;\r\n        this.Host = this.Authority;\r\n        if (this.Authority.indexOf(':') > 0) {\r\n            temp = this.Authority.split(':');\r\n            this.Host = temp[0];\r\n            this.Port = temp[1];\r\n        }\r\n        this.PathAndQuery = uri.substr(queryIndex, uri.length - queryIndex);\r\n        this.AbsolutePath = this.PathAndQuery;\r\n        if (queryIndex > 0) {\r\n            temp = this.PathAndQuery.split('?');\r\n            this.AbsolutePath = temp[0];\r\n            this.Query = temp[1];\r\n        }\r\n        if (this.Query) {\r\n            const items = this.Query.split('&');\r\n            this.Querys = {};\r\n            for (let i = 0; i < items.length; i++) {\r\n                const index = items[i].indexOf('=');\r\n                this.Querys[items[i].substr(0, index)] = items[i].substr(index + 1);\r\n            }\r\n        }\r\n        this.Segments = null;\r\n        if (this.AbsolutePath !== '') {\r\n            this.Segments = this.AbsolutePath.split('/');\r\n        }\r\n    }\r\n    toString() {\r\n        let param = '';\r\n        if (this.Querys) {\r\n            let i = 0;\r\n            for (let q in this.Querys) {\r\n                if (i == 0)\r\n                    param = '?';\r\n                if (i++ > 0)\r\n                    param += '&';\r\n                param += q + '=' + this.Querys[q];\r\n            }\r\n        }\r\n        let result = this.Scheme + '://';\r\n        if (this.UserInfo)\r\n            result += this.UserInfo + '@';\r\n        result += this.Host;\r\n        if (this.Origin.indexOf(':', 6) > 0)\r\n            result += ':' + this.Port;\r\n        result += this.AbsolutePath + param;\r\n        return result;\r\n    }\r\n}\r\nexports.HowellUrl = HowellUrl;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.VideoModel = void 0;\r\nconst play_mode_enum_1 = require(\"../enum/play-mode.enum\");\r\nconst stream_type_enum_1 = require(\"../enum/stream-type.enum\");\r\nconst url_model_1 = require(\"./url.model\");\r\nclass VideoModel {\r\n    constructor(options) {\r\n        /** 链接地址 */\r\n        this.host = '';\r\n        /** 端口号 */\r\n        this.port = 80;\r\n        /** 摄像机id */\r\n        this.deviceId = '';\r\n        /** 通道号 */\r\n        this.slot = 0;\r\n        /** 模式 */\r\n        this.mode = play_mode_enum_1.PlayMode.live;\r\n        this.index = 0;\r\n        if (options) {\r\n            if (typeof options === 'string') {\r\n                this.fromString(options);\r\n            }\r\n            else {\r\n                this.host = options.host;\r\n                this.deviceId = options.deviceId;\r\n                this.slot = options.slot;\r\n                this.username = options.userName;\r\n                this.password = options.password;\r\n                this.mode = options.mode;\r\n                this.beginTime = options.beginTime;\r\n                this.endTime = options.endTime;\r\n                this.stream = options.stream;\r\n            }\r\n        }\r\n    }\r\n    fromString(str) {\r\n        let url = new url_model_1.HowellUrl(str);\r\n        this.host = url.Host;\r\n        this.port = url.Port;\r\n        if (url.Querys) {\r\n            this.username = url.Querys.user;\r\n            this.password = url.Querys.password;\r\n        }\r\n        let uri = str.substr(str.indexOf(url.Authority) + url.Authority.length + 1);\r\n        let nodes = uri.split('/');\r\n        this.mode = nodes[3];\r\n        this.deviceId = nodes[4];\r\n        this.slot = parseInt(nodes[5]);\r\n        this.stream = parseInt(nodes[6]);\r\n        switch (this.mode) {\r\n            case play_mode_enum_1.PlayMode.live:\r\n                break;\r\n            case play_mode_enum_1.PlayMode.vod:\r\n                let interval = nodes[7];\r\n                let times = interval.split('_');\r\n                this.beginTime = new Date(times[0]);\r\n                this.endTime = new Date(times[1]);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    toString(stream) {\r\n        if (stream) {\r\n            this.stream = stream;\r\n        }\r\n        if (!this.stream) {\r\n            this.stream = stream_type_enum_1.StreamType.sub;\r\n        }\r\n        let url = `ws://${this.host}:${this.port}/ws/video/howellps/${this.mode}/${this.deviceId}/${this.slot}/${this.stream}/${this.mode}.mp4?user=${this.username}&password=${this.password}`;\r\n        if (this.mode === play_mode_enum_1.PlayMode.vod && this.beginTime && this.endTime) {\r\n            url = `ws://${this.host}:${this.port}/ws/video/howellps/${this.mode}/${this.deviceId}/${this.slot}/${this.stream}/${this.beginTime.toISOString()}_${this.endTime.toISOString()}/${this.mode}.mp4?user=${this.username}&password=${this.password}`;\r\n        }\r\n        return url;\r\n    }\r\n    static fromUrl(url, username, password) {\r\n        let model = new VideoModel(url);\r\n        if (username)\r\n            model.username = username;\r\n        if (password)\r\n            model.password = password;\r\n        return model;\r\n    }\r\n}\r\nexports.VideoModel = VideoModel;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.APlayerControlButton = void 0;\r\nconst player_control_1 = require(\"./player-control\");\r\nclass APlayerControlButton extends player_control_1.APlayerToolTriggerControl {\r\n    constructor() {\r\n        super();\r\n    }\r\n    _create(title, icon) {\r\n        let _icon = document.createElement('i');\r\n        _icon.className = icon;\r\n        let element = document.createElement('div');\r\n        element.title = title;\r\n        element.appendChild(_icon);\r\n        element.addEventListener('click', (e) => {\r\n            console.log(e.currentTarget);\r\n            e.stopPropagation();\r\n            this.event.emit('click', e);\r\n        });\r\n        element.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n        return element;\r\n    }\r\n}\r\nexports.APlayerControlButton = APlayerControlButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.APlayerControlSlide = void 0;\r\nconst player_control_1 = require(\"./player-control\");\r\nclass APlayerControlSlide extends player_control_1.APlayerToolTriggerControl {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._value = 0;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(v) {\r\n        this._value = v;\r\n    }\r\n}\r\nexports.APlayerControlSlide = APlayerControlSlide;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.APlayerControlSwitch = void 0;\r\nconst player_control_1 = require(\"./player-control\");\r\nclass APlayerControlSwitch extends player_control_1.APlayerToolTriggerControl {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._value = false;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(v) {\r\n        if (this._value === v)\r\n            return;\r\n        this._value = v;\r\n        let icon = this.element.querySelector('i');\r\n        if (this.icon) {\r\n            icon.className = this.value ? this.icon.on : this.icon.off;\r\n        }\r\n        this.event.emit('change', this._value);\r\n    }\r\n    _create(title, icon) {\r\n        this.icon = icon;\r\n        let _icon = document.createElement('i');\r\n        _icon.className = icon.off;\r\n        let element = document.createElement('div');\r\n        element.title = title;\r\n        element.appendChild(_icon);\r\n        element.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.value = !this.value;\r\n        });\r\n        return element;\r\n    }\r\n}\r\nexports.APlayerControlSwitch = APlayerControlSwitch;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.APlayerToolTriggerControl = exports.APlayerControl = void 0;\r\nconst event_emitter_1 = require(\"../../tools/event-emitter\");\r\nclass APlayerControl {\r\n    constructor() {\r\n        this.style = {\r\n            display: '',\r\n        };\r\n        this.init();\r\n        this.element = this.create();\r\n    }\r\n    init() { }\r\n    get show() {\r\n        return this.element.style.display != 'none';\r\n    }\r\n    set show(v) {\r\n        this.element.style.display = v ? this.style.display : 'none';\r\n    }\r\n}\r\nexports.APlayerControl = APlayerControl;\r\nclass APlayerToolTriggerControl extends APlayerControl {\r\n    constructor() {\r\n        super();\r\n        this.event = new event_emitter_1.EventEmitter();\r\n    }\r\n}\r\nexports.APlayerToolTriggerControl = APlayerToolTriggerControl;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlCapturePictureButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlCapturePictureButton extends player_control_button_a_1.APlayerControlButton {\r\n    create() {\r\n        return super._create('截图', 'howell-icon-picture');\r\n    }\r\n}\r\nexports.WSPlayerControlCapturePictureButton = WSPlayerControlCapturePictureButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlFastButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlFastButton extends player_control_button_a_1.APlayerControlButton {\r\n    create() {\r\n        return super._create('快进', 'mdi mdi-fast-forward');\r\n    }\r\n}\r\nexports.WSPlayerControlFastButton = WSPlayerControlFastButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlForwardButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlForwardButton extends player_control_button_a_1.APlayerControlButton {\r\n    create() {\r\n        return super._create('单帧进', 'mdi mdi-step-forward');\r\n    }\r\n}\r\nexports.WSPlayerControlForwardButton = WSPlayerControlForwardButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlFullscreenButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlFullscreenButton extends player_control_button_a_1.APlayerControlButton {\r\n    create() {\r\n        return super._create('全屏', 'mdi mdi-arrow-expand-all');\r\n    }\r\n}\r\nexports.WSPlayerControlFullscreenButton = WSPlayerControlFullscreenButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlJumpBackButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlJumpBackButton extends player_control_button_a_1.APlayerControlButton {\r\n    create() {\r\n        return super._create('退30秒', 'mdi mdi-reply');\r\n    }\r\n}\r\nexports.WSPlayerControlJumpBackButton = WSPlayerControlJumpBackButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlJumpForwardButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlJumpForwardButton extends player_control_button_a_1.APlayerControlButton {\r\n    create() {\r\n        let _icon = document.createElement('i');\r\n        _icon.className = 'mdi mdi-reply';\r\n        _icon.style.transform = 'rotateY(180deg)';\r\n        let element = document.createElement('div');\r\n        element.title = '进30秒';\r\n        element.appendChild(_icon);\r\n        element.addEventListener('click', (e) => {\r\n            this.event.emit('click', e);\r\n        });\r\n        return element;\r\n    }\r\n}\r\nexports.WSPlayerControlJumpForwardButton = WSPlayerControlJumpForwardButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlPauseButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlPauseButton extends player_control_button_a_1.APlayerControlButton {\r\n    constructor() {\r\n        super();\r\n        this.show = false;\r\n    }\r\n    create() {\r\n        let element = this._create('暂停', 'mdi mdi-pause');\r\n        element.className = 'play';\r\n        return element;\r\n    }\r\n}\r\nexports.WSPlayerControlPauseButton = WSPlayerControlPauseButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlPlayButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlPlayButton extends player_control_button_a_1.APlayerControlButton {\r\n    constructor() {\r\n        super();\r\n    }\r\n    create() {\r\n        let element = super._create('播放', 'mdi mdi-play');\r\n        element.className = 'play';\r\n        return element;\r\n    }\r\n}\r\nexports.WSPlayerControlPlayButton = WSPlayerControlPlayButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlSlowButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlSlowButton extends player_control_button_a_1.APlayerControlButton {\r\n    create() {\r\n        return super._create('慢放', 'mdi mdi-rewind');\r\n    }\r\n}\r\nexports.WSPlayerControlSlowButton = WSPlayerControlSlowButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlStopButton = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlStopButton extends player_control_button_a_1.APlayerControlButton {\r\n    constructor() {\r\n        super();\r\n        this.show = false;\r\n    }\r\n    create() {\r\n        let element = super._create('停止', 'mdi mdi-stop');\r\n        element.className = 'play';\r\n        return element;\r\n    }\r\n}\r\nexports.WSPlayerControlStopButton = WSPlayerControlStopButton;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlPosition = void 0;\r\nconst event_emitter_1 = require(\"../tools/event-emitter\");\r\nconst player_control_time_begin_1 = require(\"./position/player-control-time-begin\");\r\nconst player_control_time_end_1 = require(\"./position/player-control-time-end\");\r\nconst player_control_time_position_slide_1 = require(\"./position/player-control-time-position.slide\");\r\nclass WSPlayerControlPosition {\r\n    constructor() {\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this.begin = new player_control_time_begin_1.WSPlayerControlTimeBegin();\r\n        this.end = new player_control_time_end_1.WSPlayerControlTimeEnd();\r\n        this.position = new player_control_time_position_slide_1.WSPlayerControlTimePositionSlide();\r\n        this.element = this.create();\r\n        this.regist();\r\n    }\r\n    create() {\r\n        let div = document.createElement('div');\r\n        div.className = 'player-controls-position';\r\n        div.appendChild(this.begin.element);\r\n        div.appendChild(this.position.element);\r\n        div.appendChild(this.end.element);\r\n        return div;\r\n    }\r\n    regist() {\r\n        this.position.event.on('change', (value) => {\r\n            this.event.emit('change', value);\r\n        });\r\n        this.position.event.on('mousedown', () => {\r\n            this.event.emit('mousedown');\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerControlPosition = WSPlayerControlPosition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlVideo = void 0;\r\nconst play_mode_enum_1 = require(\"../enum/play-mode.enum\");\r\nconst event_emitter_1 = require(\"../tools/event-emitter\");\r\nconst player_control_fast_button_1 = require(\"./buttons/player-control-fast.button\");\r\nconst player_control_forward_button_1 = require(\"./buttons/player-control-forward.button\");\r\nconst player_control_jump_back_button_1 = require(\"./buttons/player-control-jump-back.button\");\r\nconst player_control_jump_forward_button_1 = require(\"./buttons/player-control-jump-forward.button\");\r\nconst player_control_pause_button_1 = require(\"./buttons/player-control-pause.button\");\r\nconst player_control_play_button_1 = require(\"./buttons/player-control-play.button\");\r\nconst player_control_slow_button_1 = require(\"./buttons/player-control-slow.button\");\r\nconst player_control_stop_button_1 = require(\"./buttons/player-control-stop.button\");\r\nclass WSPlayerControlVideo {\r\n    constructor(mode) {\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this.play = new player_control_play_button_1.WSPlayerControlPlayButton();\r\n        this.pause = new player_control_pause_button_1.WSPlayerControlPauseButton();\r\n        this.stop = new player_control_stop_button_1.WSPlayerControlStopButton();\r\n        this.fast = new player_control_fast_button_1.WSPlayerControlFastButton();\r\n        this.slow = new player_control_slow_button_1.WSPlayerControlSlowButton();\r\n        this.forward = new player_control_forward_button_1.WSPlayerControlForwardButton();\r\n        this.jump = {\r\n            forward: new player_control_jump_forward_button_1.WSPlayerControlJumpForwardButton(),\r\n            back: new player_control_jump_back_button_1.WSPlayerControlJumpBackButton(),\r\n        };\r\n        this.mode = mode;\r\n        this.element = this.create(mode);\r\n        this.regist();\r\n    }\r\n    create(mode) {\r\n        let div = document.createElement('div');\r\n        div.className = 'player-controls-video';\r\n        div.appendChild(this.play.element);\r\n        this.play.show = !mode;\r\n        if (mode === play_mode_enum_1.PlayMode.live) {\r\n            div.appendChild(this.stop.element);\r\n            this.stop.show = true;\r\n        }\r\n        if (mode === play_mode_enum_1.PlayMode.vod) {\r\n            div.appendChild(this.pause.element);\r\n            this.pause.show = true;\r\n            div.appendChild(this.fast.element);\r\n            div.appendChild(this.slow.element);\r\n            div.appendChild(this.forward.element);\r\n            div.appendChild(this.jump.back.element);\r\n            div.appendChild(this.jump.forward.element);\r\n        }\r\n        return div;\r\n    }\r\n    regist() {\r\n        this.play.event.on('click', (e) => {\r\n            this.play.show = !this.play.show;\r\n            if (this.mode === play_mode_enum_1.PlayMode.live) {\r\n                this.stop.show = !this.play.show;\r\n            }\r\n            else {\r\n                this.pause.show = !this.play.show;\r\n            }\r\n            this.event.emit('play');\r\n        });\r\n        this.stop.event.on('click', (e) => {\r\n            this.stop.show = false;\r\n            this.play.show = true;\r\n            this.event.emit('stop');\r\n        });\r\n        this.pause.event.on('click', (e) => {\r\n            this.pause.show = false;\r\n            this.play.show = true;\r\n            this.event.emit('pause');\r\n        });\r\n        this.fast.event.on('click', (e) => {\r\n            this.event.emit('fast');\r\n        });\r\n        this.slow.event.on('click', (e) => {\r\n            this.event.emit('slow');\r\n        });\r\n        this.forward.event.on('click', (e) => {\r\n            this.event.emit('forward');\r\n        });\r\n        this.jump.back.event.on('click', (e) => {\r\n            this.event.emit('jump_back');\r\n        });\r\n        this.jump.forward.event.on('click', (e) => {\r\n            this.event.emit('jump_forward');\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerControlVideo = WSPlayerControlVideo;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlWidget = void 0;\r\nconst play_mode_enum_1 = require(\"../enum/play-mode.enum\");\r\nconst event_emitter_1 = require(\"../tools/event-emitter\");\r\nconst player_control_capture_picture_button_1 = require(\"./buttons/player-control-capture-picture.button\");\r\nconst player_control_fullscreen_button_1 = require(\"./buttons/player-control-fullscreen.button\");\r\nconst player_control_rule_switch_1 = require(\"./switchs/player-control-rule.switch\");\r\nconst player_control_subtitle_switch_1 = require(\"./switchs/player-control-subtitle.switch\");\r\nconst player_control_volume_1 = require(\"./volume/player-control-volume\");\r\nclass WSPlayerControlWidget {\r\n    constructor(mode) {\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this.rule = new player_control_rule_switch_1.WSPlayerControlRuleSwitch();\r\n        this.volume = new player_control_volume_1.WSPlayerControlVolume();\r\n        this.subtitle = new player_control_subtitle_switch_1.WSPlayerControlSubtitleSwitch();\r\n        this.fullscreen = new player_control_fullscreen_button_1.WSPlayerControlFullscreenButton();\r\n        this.capturepicture = new player_control_capture_picture_button_1.WSPlayerControlCapturePictureButton();\r\n        this.element = this.create(mode);\r\n        this.regist();\r\n    }\r\n    get _rule() {\r\n        return this.rule;\r\n    }\r\n    create(mode) {\r\n        let div = document.createElement('div');\r\n        div.className = 'player-controls-widget';\r\n        div.appendChild(this.volume.element);\r\n        if (mode === play_mode_enum_1.PlayMode.vod) {\r\n            div.appendChild(this.subtitle.element);\r\n        }\r\n        div.appendChild(this._rule.element);\r\n        div.appendChild(this.capturepicture.element);\r\n        div.appendChild(this.fullscreen.element);\r\n        return div;\r\n    }\r\n    regist() {\r\n        this.fullscreen.event.on('click', (e) => {\r\n            this.event.emit('fullscreen');\r\n        });\r\n        this.capturepicture.event.on('click', (e) => {\r\n            this.event.emit('capturepicture');\r\n        });\r\n        this._rule.event.on('change', (value) => {\r\n            this.event.emit('rule', value);\r\n        });\r\n        this.subtitle.event.on('change', (value) => {\r\n            this.event.emit('subtitle', value);\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerControlWidget = WSPlayerControlWidget;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControls = void 0;\r\nconst play_mode_enum_1 = require(\"../enum/play-mode.enum\");\r\nconst event_emitter_1 = require(\"../tools/event-emitter\");\r\nconst player_control_position_tool_1 = require(\"./player-control-position.tool\");\r\nconst player_control_video_tool_1 = require(\"./player-control-video.tool\");\r\nconst player_control_widget_tool_1 = require(\"./player-control-widget.tool\");\r\nclass WSPlayerControls {\r\n    constructor(parent, mode) {\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this.control = new player_control_video_tool_1.WSPlayerControlVideo(mode);\r\n        this.widget = new player_control_widget_tool_1.WSPlayerControlWidget(mode);\r\n        this.position = new player_control_position_tool_1.WSPlayerControlPosition();\r\n        this.element = this.create(mode);\r\n        this.regist();\r\n        parent.appendChild(this.element);\r\n    }\r\n    reload(element, mode) {\r\n        this.control = new player_control_video_tool_1.WSPlayerControlVideo(mode);\r\n        this.widget = new player_control_widget_tool_1.WSPlayerControlWidget(mode);\r\n        this.position = new player_control_position_tool_1.WSPlayerControlPosition();\r\n        this.element = document.querySelector('.player-controls');\r\n        if (this.element) {\r\n            element.removeChild(this.element);\r\n        }\r\n        this.element = this.create(mode);\r\n        this.regist();\r\n        element.appendChild(this.element);\r\n    }\r\n    create(mode) {\r\n        let div = document.createElement('div');\r\n        div.className = 'player-controls';\r\n        this.content = document.createElement('div');\r\n        this.content.className = 'player-controls-content';\r\n        this.content.style.opacity = '0';\r\n        this.content.appendChild(this.control.element);\r\n        if (mode === play_mode_enum_1.PlayMode.vod) {\r\n            this.content.appendChild(this.position.element);\r\n        }\r\n        if (mode) {\r\n            this.content.appendChild(this.widget.element);\r\n        }\r\n        div.appendChild(this.content);\r\n        return div;\r\n    }\r\n    registvideocontrol() {\r\n        this.control.event.on('play', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('play');\r\n        }));\r\n        this.control.event.on('stop', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('stop');\r\n        }));\r\n        this.control.event.on('pause', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('pause');\r\n        }));\r\n        this.control.event.on('fast', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('fast');\r\n        }));\r\n        this.control.event.on('slow', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('slow');\r\n        }));\r\n        this.control.event.on('forward', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.control.play.show = true;\r\n            this.control.pause.show = false;\r\n            this.event.emit('forward');\r\n        }));\r\n        this.control.event.on('jump_back', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('jump_back');\r\n        }));\r\n        this.control.event.on('jump_forward', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('jump_forward');\r\n        }));\r\n    }\r\n    registwidget() {\r\n        this.widget.event.on('fullscreen', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('fullscreen');\r\n        }));\r\n        this.widget.event.on('capturepicture', () => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('capturepicture');\r\n        }));\r\n        this.widget.event.on('rule', (enabled) => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('rule', enabled);\r\n        }));\r\n        this.widget.event.on('subtitle', (enabled) => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('subtitle', enabled);\r\n        }));\r\n        this.widget.event.on('volume', (value) => __awaiter(this, void 0, void 0, function* () {\r\n            this.event.emit('volume', value);\r\n        }));\r\n    }\r\n    registposition() {\r\n        this.position.position.event.on('change', (value) => {\r\n            this.event.emit('positionchange', value);\r\n        });\r\n        this.position.position.event.on('mousedown', () => {\r\n            this.event.emit('positionmousedown');\r\n        });\r\n    }\r\n    registdisplay() {\r\n        this.element.addEventListener('mouseover', (e) => {\r\n            if (this.content) {\r\n                this.content.style.opacity = '';\r\n            }\r\n        });\r\n        this.element.addEventListener('mouseout', (e) => {\r\n            if (this.content) {\r\n                this.content.style.opacity = '0';\r\n            }\r\n        });\r\n        this.element.addEventListener('mouseover', (e) => {\r\n            if (this.content) {\r\n                this.content.style.opacity = '';\r\n            }\r\n        });\r\n    }\r\n    regist() {\r\n        this.registvideocontrol();\r\n        this.registwidget();\r\n        this.registposition();\r\n        this.registdisplay();\r\n    }\r\n}\r\nexports.WSPlayerControls = WSPlayerControls;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlTimeBegin = void 0;\r\nconst date_tool_1 = require(\"../../tools/date-tool/date.tool\");\r\nconst player_control_1 = require(\"../abstract/player-control\");\r\nclass WSPlayerControlTimeBegin extends player_control_1.APlayerControl {\r\n    get value() {\r\n        let values = this.element.innerText.split(':').map((x) => parseInt(x));\r\n        return new Date(0, 0, 0, values[0], values[1], values[2]);\r\n    }\r\n    set value(v) {\r\n        this.element.innerHTML = date_tool_1.DateTool.format(v, 'HH:mm:ss');\r\n    }\r\n    create() {\r\n        let div = document.createElement('div');\r\n        div.innerHTML = '00:00:00';\r\n        div.title = '当前时间';\r\n        return div;\r\n    }\r\n}\r\nexports.WSPlayerControlTimeBegin = WSPlayerControlTimeBegin;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlTimeEnd = void 0;\r\nconst date_tool_1 = require(\"../../tools/date-tool/date.tool\");\r\nconst player_control_1 = require(\"../abstract/player-control\");\r\nclass WSPlayerControlTimeEnd extends player_control_1.APlayerControl {\r\n    get value() {\r\n        let values = this.element.innerText.split(':').map((x) => parseInt(x));\r\n        return new Date(0, 0, 0, values[0], values[1], values[2]);\r\n    }\r\n    set value(v) {\r\n        this.element.innerHTML = date_tool_1.DateTool.format(v, 'HH:mm:ss');\r\n    }\r\n    create() {\r\n        let div = document.createElement('div');\r\n        div.innerHTML = '00:00:00';\r\n        div.title = '结束时间';\r\n        return div;\r\n    }\r\n}\r\nexports.WSPlayerControlTimeEnd = WSPlayerControlTimeEnd;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlTimePositionSlide = void 0;\r\nconst date_tool_1 = require(\"../../tools/date-tool/date.tool\");\r\nconst player_control_slide_1 = require(\"../abstract/player-control.slide\");\r\nclass WSPlayerControlTimePositionSlide extends player_control_slide_1.APlayerControlSlide {\r\n    get input() {\r\n        return this.element;\r\n    }\r\n    get value() {\r\n        return this.input.valueAsNumber;\r\n    }\r\n    set value(v) {\r\n        this.input.value = `${v}`;\r\n        this.setBackground(v);\r\n    }\r\n    get min() {\r\n        return this.input.min ? parseFloat(this.input.min) : 0;\r\n    }\r\n    set min(v) {\r\n        this.input.min = `${v}`;\r\n    }\r\n    get max() {\r\n        return this.input.max ? parseFloat(this.input.max) : 0;\r\n    }\r\n    set max(v) {\r\n        this.input.max = `${v}`;\r\n    }\r\n    get ratio() {\r\n        let count = this.max - this.min;\r\n        let current = this.value - this.min;\r\n        let ratio = current / count;\r\n        if (ratio >= 1) {\r\n            return 1;\r\n        }\r\n        return ratio;\r\n    }\r\n    setBackground(v) {\r\n        this.input.style.backgroundSize = `${this.ratio * 100}% 100%`;\r\n    }\r\n    create() {\r\n        let input = document.createElement('input');\r\n        input.type = 'range';\r\n        input.value = `0`;\r\n        input.step = '1000';\r\n        input.style.flexGrow = '1';\r\n        input.title = '00:00:00';\r\n        this.regist(input);\r\n        return input;\r\n    }\r\n    regist(input) {\r\n        input.addEventListener('input', (e) => {\r\n            let ctr = e.target;\r\n            var value = (parseFloat(ctr.value) - parseFloat(ctr.min)) /\r\n                (parseFloat(ctr.max) - parseFloat(ctr.min));\r\n            var valStr = value * 100 + '% 100%';\r\n            ctr.style.backgroundSize = valStr;\r\n        });\r\n        input.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n            this.event.emit('mousedown');\r\n        });\r\n        input.addEventListener('mouseup', (e) => {\r\n            e.stopPropagation();\r\n            let ratio = e.offsetX / this.input.clientWidth;\r\n            let count = this.max - this.min;\r\n            let currnet = ratio * count;\r\n            let value = currnet - this.min;\r\n            this.event.emit('change', value);\r\n        });\r\n        input.addEventListener('mousemove', (e) => {\r\n            e.stopPropagation();\r\n            let ratio = e.offsetX / this.input.clientWidth;\r\n            let count = this.max - this.min;\r\n            let currnet = ratio * count;\r\n            let time = new Date(currnet);\r\n            time = date_tool_1.DateTool.timezone.remove(time);\r\n            this.input.title = date_tool_1.DateTool.format(time, 'HH:mm:ss');\r\n        });\r\n        input.addEventListener('change', (e) => {\r\n            let value = this.value - this.min;\r\n            this.event.emit('change', value);\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerControlTimePositionSlide = WSPlayerControlTimePositionSlide;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlRuleSwitch = void 0;\r\nconst player_control_switch_1 = require(\"../abstract/player-control.switch\");\r\nclass WSPlayerControlRuleSwitch extends player_control_switch_1.APlayerControlSwitch {\r\n    create() {\r\n        return super._create('目标', {\r\n            on: 'howell-icon-garbage-target-on',\r\n            off: 'howell-icon-garbage-target-off',\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerControlRuleSwitch = WSPlayerControlRuleSwitch;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlSubtitleSwitch = void 0;\r\nconst player_control_switch_1 = require(\"../abstract/player-control.switch\");\r\nclass WSPlayerControlSubtitleSwitch extends player_control_switch_1.APlayerControlSwitch {\r\n    create() {\r\n        return super._create('字幕', {\r\n            on: 'howell-icon-subtitles',\r\n            off: 'howell-icon-subtitles_off',\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerControlSubtitleSwitch = WSPlayerControlSubtitleSwitch;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlVolumeIcon = void 0;\r\nconst player_control_button_a_1 = require(\"../abstract/player-control-button.a\");\r\nclass WSPlayerControlVolumeIcon extends player_control_button_a_1.APlayerControlButton {\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(v) {\r\n        if (this._value === v)\r\n            return;\r\n        this._value = v;\r\n        this.icon.element.className = v\r\n            ? this.icon.classname.on\r\n            : this.icon.classname.off;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this._value = false;\r\n    }\r\n    init() {\r\n        this.icon = {\r\n            element: document.createElement('i'),\r\n            classname: {\r\n                off: 'mdi mdi-volume-off',\r\n                on: 'mdi mdi-volume-high',\r\n            },\r\n        };\r\n    }\r\n    create() {\r\n        this.icon.element.className = this.icon.classname.off;\r\n        let element = document.createElement('div');\r\n        element.title = '音量';\r\n        element.appendChild(this.icon.element);\r\n        element.addEventListener('click', (e) => {\r\n            this.value = !this.value;\r\n            this.event.emit('click');\r\n        });\r\n        return element;\r\n    }\r\n}\r\nexports.WSPlayerControlVolumeIcon = WSPlayerControlVolumeIcon;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlVolumePanel = void 0;\r\nconst player_control_slide_1 = require(\"../abstract/player-control.slide\");\r\nconst player_control_volume_slide_1 = require(\"./player-control-volume-slide\");\r\nclass WSPlayerControlVolumePanel extends player_control_slide_1.APlayerControlSlide {\r\n    constructor() {\r\n        super();\r\n        this.show = false;\r\n        this.regist();\r\n    }\r\n    get value() {\r\n        return this.slide.value;\r\n    }\r\n    set value(v) {\r\n        if (this.slide.value === v)\r\n            return;\r\n        this.slide.value = v;\r\n    }\r\n    init() {\r\n        this.slide = new player_control_volume_slide_1.WSPlayerControlVolumeSlide();\r\n        this.style.display = 'flex';\r\n    }\r\n    create() {\r\n        let div = document.createElement('div');\r\n        div.style.position = 'absolute';\r\n        div.style.top = '0';\r\n        div.style.left = '50%';\r\n        div.style.transform = 'translate(-50%, -100%)';\r\n        div.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';\r\n        div.style.height = '100px';\r\n        div.style.width = '40px';\r\n        div.style.padding = '10px';\r\n        div.style.boxSizing = 'border-box';\r\n        div.style.display = 'flex';\r\n        div.style.alignItems = 'center';\r\n        div.style.justifyContent = 'center';\r\n        div.appendChild(this.slide.element);\r\n        return div;\r\n    }\r\n    regist() {\r\n        this.slide.event.on('change', (value) => {\r\n            this.event.emit('change', value);\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerControlVolumePanel = WSPlayerControlVolumePanel;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlVolumeSlide = void 0;\r\nconst player_control_slide_1 = require(\"../abstract/player-control.slide\");\r\nclass WSPlayerControlVolumeSlide extends player_control_slide_1.APlayerControlSlide {\r\n    get input() {\r\n        return this.element;\r\n    }\r\n    get value() {\r\n        return parseInt(this.input.value);\r\n    }\r\n    set value(v) {\r\n        let str = v.toString();\r\n        if (this.input.value == str)\r\n            return;\r\n        this.input.value = str;\r\n        this.oninput(this.input);\r\n    }\r\n    create() {\r\n        let input = document.createElement('input');\r\n        input.type = 'range';\r\n        input.min = '0';\r\n        input.max = '100';\r\n        input.step = '1';\r\n        input.value = `0`;\r\n        input.title = `音量：0%`;\r\n        input.style.backgroundSize = `0% 100%`;\r\n        input.style.transform = 'rotate(270deg)';\r\n        input.style.width = '80px';\r\n        input.className = 'vertical';\r\n        this.regist(input);\r\n        return input;\r\n    }\r\n    regist(input) {\r\n        input.addEventListener('input', (e) => {\r\n            let input = e.target;\r\n            this.oninput(input);\r\n        });\r\n    }\r\n    oninput(input) {\r\n        var value = (parseFloat(input.value) - parseFloat(input.min)) /\r\n            (parseFloat(input.max) - parseFloat(input.min));\r\n        input.style.backgroundSize = `${value * 100}% 100%`;\r\n        input.title = `音量：${input.value}%`;\r\n        this.value = parseInt(input.value);\r\n        this.event.emit('change', this.value);\r\n    }\r\n}\r\nexports.WSPlayerControlVolumeSlide = WSPlayerControlVolumeSlide;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlVolume = void 0;\r\nconst player_control_1 = require(\"../abstract/player-control\");\r\nconst player_control_volume_icon_1 = require(\"./player-control-volume-icon\");\r\nconst player_control_volume_panel_1 = require(\"./player-control-volume-panel\");\r\nclass WSPlayerControlVolume extends player_control_1.APlayerControl {\r\n    constructor() {\r\n        super();\r\n        this.regist();\r\n    }\r\n    init() {\r\n        this.icon = new player_control_volume_icon_1.WSPlayerControlVolumeIcon();\r\n        this.panel = new player_control_volume_panel_1.WSPlayerControlVolumePanel();\r\n    }\r\n    create() {\r\n        let div = document.createElement('div');\r\n        div.style.position = 'relative';\r\n        div.style.height = '100%';\r\n        div.appendChild(this.icon.element);\r\n        div.appendChild(this.panel.element);\r\n        return div;\r\n    }\r\n    regist() {\r\n        this.panel.event.on('change', (value) => {\r\n            this.icon.value = value > 0;\r\n            this.icon.element.title = `音量：${value}%`;\r\n        });\r\n        this.element.addEventListener('mouseover', (e) => {\r\n            this.panel.show = true;\r\n        });\r\n        this.element.addEventListener('mouseout', (e) => {\r\n            this.panel.show = false;\r\n        });\r\n        this.icon.event.on('click', (e) => {\r\n            if (this.icon.value) {\r\n                if (this.panel.value === 0) {\r\n                    this.panel.value = 50;\r\n                }\r\n                else {\r\n                    this.panel.value = 0;\r\n                }\r\n            }\r\n            else {\r\n                this.panel.value = 0;\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.WSPlayerControlVolume = WSPlayerControlVolume;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerAnalysisHelper = void 0;\r\nclass WSPlayerAnalysisHelper {\r\n    static readMediaPrivateData(data, triggers) {\r\n        let draw_target = false;\r\n        var dataview = new DataView(data);\r\n        // 开始标记，默认是：0x5052495648570001\r\n        let programStreamPacket = [0x00, 0x00, 0x01, 0xba];\r\n        let pesPacket = [0x00, 0x00, 0x01, 0xbf];\r\n        let flags = [0x50, 0x52, 0x49, 0x56, 0x48, 0x57, 0x00, 0x01];\r\n        let offset = 0;\r\n        for (let i = 0; i < programStreamPacket.length; i++) {\r\n            var item = dataview.getUint8(offset++);\r\n            let packet = programStreamPacket[i];\r\n            if (packet != item) {\r\n                return draw_target;\r\n            }\r\n        }\r\n        offset += 10;\r\n        for (let i = 0; i < pesPacket.length; i++) {\r\n            var item = dataview.getUint8(offset++);\r\n            let packet = pesPacket[i];\r\n            if (packet != item) {\r\n                return draw_target;\r\n            }\r\n        }\r\n        offset += 2;\r\n        for (let i = offset; i < flags.length; i++) {\r\n            var item = dataview.getUint8(offset + flags.length - i);\r\n            if (flags[i] != item) {\r\n                console.log(i, flags[i], item);\r\n                return draw_target;\r\n            }\r\n        }\r\n        offset += flags.length;\r\n        let type = dataview.getInt32(offset, true);\r\n        offset += 4;\r\n        switch (type) {\r\n            case 1:\r\n                ;\r\n                ((dataview, offset) => {\r\n                    setTimeout(() => {\r\n                        triggers.loadPrivateTargetList(dataview, offset, draw_target);\r\n                    }, 0);\r\n                })(dataview, offset);\r\n                draw_target = true;\r\n                break;\r\n            case 2:\r\n                // loadPrivateRuleList(dataview, offset);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return draw_target;\r\n    }\r\n    static getPosition(position) {\r\n        var u8array = new Uint8Array(position);\r\n        // 2020-02-22T10:11:22Z\r\n        // 01234567890123456789\r\n        var year = parseInt(this.Uint8ArrayToString(u8array.slice(0, 4)));\r\n        var month = parseInt(this.Uint8ArrayToString(u8array.slice(5, 7)));\r\n        var day = parseInt(this.Uint8ArrayToString(u8array.slice(8, 10)));\r\n        var hour = parseInt(this.Uint8ArrayToString(u8array.slice(11, 13)));\r\n        var minute = parseInt(this.Uint8ArrayToString(u8array.slice(14, 16)));\r\n        var second = parseInt(this.Uint8ArrayToString(u8array.slice(17, 19)));\r\n        let current = new Date(year, month - 1, day, hour, minute, second);\r\n        return current;\r\n    }\r\n    static Uint8ArrayToString(data) {\r\n        var dataString = '';\r\n        for (var i = 0; i < data.length; i++) {\r\n            dataString += String.fromCharCode(data[i]);\r\n        }\r\n        return dataString;\r\n    }\r\n}\r\nexports.WSPlayerAnalysisHelper = WSPlayerAnalysisHelper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlayerCapturePictureHelper = void 0;\r\nconst play_mode_enum_1 = require(\"../enum/play-mode.enum\");\r\nconst date_tool_1 = require(\"../tools/date-tool/date.tool\");\r\nclass PlayerCapturePictureHelper {\r\n    static getName(model, time, _name) {\r\n        let infos = [];\r\n        let name = _name !== null && _name !== void 0 ? _name : model.deviceId;\r\n        infos.push(name);\r\n        infos.push(model.slot);\r\n        infos.push(model.stream);\r\n        if (model.mode === play_mode_enum_1.PlayMode.vod) {\r\n            if (model.beginTime) {\r\n                let begin = date_tool_1.DateTool.format(model.beginTime, 'yyyy-MM-ddTHH_mm_ss.SSSZ');\r\n                infos.push(begin);\r\n            }\r\n            if (model.endTime) {\r\n                let end = date_tool_1.DateTool.format(model.endTime, 'yyyy-MM-ddTHH_mm_ss.SSSZ');\r\n                infos.push(end);\r\n            }\r\n        }\r\n        let date = new Date(time.getTime());\r\n        let current = date_tool_1.DateTool.format(date, 'yyyy_MM_dd_HH_mm_ss');\r\n        infos.push(current);\r\n        return infos.join('_');\r\n    }\r\n}\r\nexports.PlayerCapturePictureHelper = PlayerCapturePictureHelper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerElementCanvasHelper = void 0;\r\nconst private_rule_list_model_1 = require(\"../models/private-rule-list.model\");\r\nconst private_target_list_model_1 = require(\"../models/private-target-list.model\");\r\nclass WSPlayerElementCanvasHelper {\r\n    static lazyclear(canvas, cancel = false) {\r\n        if (cancel) {\r\n            if (this.handle.clearMediaPrivateData) {\r\n                clearTimeout(this.handle.clearMediaPrivateData);\r\n                this.handle.clearMediaPrivateData = undefined;\r\n            }\r\n        }\r\n        else {\r\n            if (!this.handle.clearMediaPrivateData) {\r\n                this.handle.clearMediaPrivateData = setTimeout(() => {\r\n                    this.clear(canvas);\r\n                    this.handle.clearMediaPrivateData = undefined;\r\n                }, 500);\r\n            }\r\n        }\r\n    }\r\n    static clear(canvas) {\r\n        try {\r\n            if (canvas) {\r\n                let ctx = canvas.getContext('2d');\r\n                let width = canvas.offsetWidth;\r\n                let height = canvas.offsetHeight;\r\n                ctx.clearRect(0, 0, width, height);\r\n            }\r\n        }\r\n        catch (ex) {\r\n            console.error(ex);\r\n        }\r\n    }\r\n    static get(element) {\r\n        let canvas = element.querySelector('.draw-window');\r\n        return canvas;\r\n    }\r\n    static loadPrivateTargetList(canvas, dataview, offset) {\r\n        let list = private_target_list_model_1.PrivateTargetList.load(dataview, offset);\r\n        let ctx = canvas.getContext('2d');\r\n        let width = canvas.offsetWidth;\r\n        let height = canvas.offsetHeight;\r\n        ctx.beginPath();\r\n        for (let i = 0; i < list.Target.length; i++) {\r\n            const target = list.Target[i];\r\n            let countX = 0.0;\r\n            let countY = 0.0;\r\n            target.Point.forEach((x) => {\r\n                countX += x.X;\r\n                countY += x.Y;\r\n            });\r\n            let centerX = countX / target.Point.length;\r\n            let centerY = countY / target.Point.length;\r\n            for (let j = 0; j < target.Point.length; j++) {\r\n                const point = target.Point[j];\r\n                let x = point.X * width;\r\n                let y = point.Y * height;\r\n                let v = Math.abs(centerX - point.X) * 200;\r\n                let h = Math.abs(centerY - point.Y) * 200;\r\n                let a = (v + h) / 2;\r\n                ctx.moveTo(x, y);\r\n                if (point.X <= centerX) {\r\n                    ctx.lineTo(x + a, y);\r\n                }\r\n                else {\r\n                    ctx.lineTo(x - a, y);\r\n                }\r\n                ctx.moveTo(x, y);\r\n                if (point.Y <= centerY) {\r\n                    ctx.lineTo(x, y + a);\r\n                }\r\n                else {\r\n                    ctx.lineTo(x, y - a);\r\n                }\r\n            }\r\n        }\r\n        ctx.lineWidth = 2;\r\n        ctx.lineJoin = 'round';\r\n        ctx.lineCap = 'round';\r\n        ctx.strokeStyle = 'red';\r\n        ctx.shadowBlur = 3;\r\n        ctx.shadowColor = 'black';\r\n        ctx.stroke();\r\n    }\r\n    static loadPrivateRuleList(canvas, dataview, offset) {\r\n        let list = private_rule_list_model_1.PrivateRuleList.load(dataview, offset);\r\n        let ctx = canvas.getContext('2d');\r\n        let width = canvas.offsetWidth;\r\n        let height = canvas.offsetHeight;\r\n        for (let i = 0; i < list.Rule.length; i++) {\r\n            const rule = list.Rule[i];\r\n            ctx.beginPath();\r\n            for (let j = 0; j < rule.Point.length; j++) {\r\n                const point = rule.Point[j];\r\n                if (j == 0) {\r\n                    ctx.moveTo(rule.Point[j].X * width, rule.Point[j].Y * height);\r\n                }\r\n                else {\r\n                    ctx.lineTo(rule.Point[j].X * width, rule.Point[j].Y * height);\r\n                }\r\n            }\r\n            ctx.lineTo(rule.Point[0].X * width, rule.Point[0].Y * height);\r\n        }\r\n        ctx.lineCap = 'round';\r\n        ctx.lineJoin = 'round';\r\n        ctx.lineWidth = 2;\r\n        ctx.strokeStyle = 'red';\r\n        ctx.stroke();\r\n    }\r\n}\r\nexports.WSPlayerElementCanvasHelper = WSPlayerElementCanvasHelper;\r\nWSPlayerElementCanvasHelper.handle = {};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerElementHelper = void 0;\r\nconst wait_1 = require(\"../tools/wait\");\r\nconst player_element_canvas_helper_1 = require(\"./player-element-canvas.helper\");\r\nclass WSPlayerElementHelper {\r\n    static getwnd(element) {\r\n        return new Promise((resolve) => {\r\n            (0, wait_1.wait)(() => {\r\n                let wnd = element.querySelector('.parent-wnd');\r\n                return !!wnd;\r\n            }, () => {\r\n                let wnd = element.querySelector('.parent-wnd');\r\n                resolve(wnd);\r\n            });\r\n        });\r\n    }\r\n    static get ratio() {\r\n        var ratio = 0;\r\n        var screen = window.screen;\r\n        var ua = navigator.userAgent.toLowerCase();\r\n        if (window.devicePixelRatio !== undefined) {\r\n            ratio = window.devicePixelRatio;\r\n        }\r\n        else if (~ua.indexOf('msie')) {\r\n            if (screen.deviceXDPI && screen.logicalXDPI) {\r\n                ratio = screen.deviceXDPI / screen.logicalXDPI;\r\n            }\r\n        }\r\n        else if (window.outerWidth !== undefined &&\r\n            window.innerWidth !== undefined) {\r\n            ratio = window.outerWidth / window.innerWidth;\r\n        }\r\n        else {\r\n        }\r\n        return ratio;\r\n    }\r\n    static loading(element, loading = true) {\r\n        let classname = 'loading';\r\n        let has = element.classList.contains(classname);\r\n        if (loading && !has) {\r\n            element.classList.add(classname);\r\n            return;\r\n        }\r\n        if (!loading && has) {\r\n            element.classList.remove(classname);\r\n        }\r\n    }\r\n}\r\nexports.WSPlayerElementHelper = WSPlayerElementHelper;\r\nWSPlayerElementHelper.canvas = player_element_canvas_helper_1.WSPlayerElementCanvasHelper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerPluginHelper = void 0;\r\nclass WSPlayerPluginHelper {\r\n    static getPath() {\r\n        let ss = document.getElementsByTagName('script');\r\n        for (let i = 0; i < ss.length; i++) {\r\n            var index = 0;\r\n            if ((index = ss[i].src.toLowerCase().lastIndexOf('wsplayer_v2.js')) > 0) {\r\n                return ss[i].src.substr(0, index) + 'codebase/';\r\n            }\r\n        }\r\n        return `http://${document.location.host}/codebase/`;\r\n    }\r\n}\r\nexports.WSPlayerPluginHelper = WSPlayerPluginHelper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerHelper = void 0;\r\nconst player_analysis_helper_1 = require(\"./player-analysis.helper\");\r\nconst player_capture_picture_helper_1 = require(\"./player-capture-picture.helper\");\r\nconst player_element_helper_1 = require(\"./player-element.helper\");\r\nconst player_plugin_helper_1 = require(\"./player-plugin.helper\");\r\nclass WSPlayerHelper {\r\n}\r\nexports.WSPlayerHelper = WSPlayerHelper;\r\nWSPlayerHelper.capturepicture = player_capture_picture_helper_1.PlayerCapturePictureHelper;\r\nWSPlayerHelper.plugin = player_plugin_helper_1.WSPlayerPluginHelper;\r\nWSPlayerHelper.element = player_element_helper_1.WSPlayerElementHelper;\r\nWSPlayerHelper.analysis = player_analysis_helper_1.WSPlayerAnalysisHelper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerStorage = void 0;\r\nconst video_model_1 = require(\"./models/video.model\");\r\nconst event_emitter_1 = require(\"./tools/event-emitter\");\r\nclass WSPlayerStorage {\r\n    constructor(element, url) {\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this.fullscreen = false;\r\n        this.html = {\r\n            element: element,\r\n            width: element.clientWidth,\r\n            height: element.clientHeight,\r\n        };\r\n        this._url = url;\r\n        this._model = video_model_1.VideoModel.fromUrl(url);\r\n    }\r\n    get url() {\r\n        return this._url;\r\n    }\r\n    get model() {\r\n        return this._model;\r\n    }\r\n}\r\nexports.WSPlayerStorage = WSPlayerStorage;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerPlugin = void 0;\r\nconst player_helper_1 = require(\"./player-helpers/player.helper\");\r\nconst event_emitter_1 = require(\"./tools/event-emitter\");\r\nclass WSPlayerPlugin {\r\n    static get(elementId) {\r\n        return new Promise((resolve) => {\r\n            if (this._plugin) {\r\n                if (this._plugin.loaded) {\r\n                    resolve(this._plugin);\r\n                }\r\n            }\r\n            else {\r\n                if (!this._plugin) {\r\n                    this._plugin = new WSPlayerPlugin({\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        path: player_helper_1.WSPlayerHelper.plugin.getPath(),\r\n                        elementId: elementId,\r\n                        loaded: () => __awaiter(this, void 0, void 0, function* () {\r\n                            if (this._plugin) {\r\n                                resolve(this._plugin);\r\n                            }\r\n                        }),\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n    constructor(args) {\r\n        var _a;\r\n        this.event = new event_emitter_1.EventEmitter();\r\n        this.soundOpened = false;\r\n        this.loaded = false;\r\n        this.id = 'wsplayer_script';\r\n        this.timeout = 10;\r\n        this.args = {\r\n            iCurrentSplit: 1,\r\n            iHeight: args.height,\r\n            iMaxSplit: 1,\r\n            iType: 1,\r\n            iWidth: args.width,\r\n            szBasePath: args.path,\r\n            szId: args.elementId,\r\n        };\r\n        this.path = args.path;\r\n        if (args.loaded) {\r\n            this.event.on('loaded', () => {\r\n                if (args.loaded)\r\n                    args.loaded();\r\n            });\r\n        }\r\n        this.script =\r\n            (_a = document.getElementById(this.id)) !== null && _a !== void 0 ? _a : undefined;\r\n        this.init();\r\n    }\r\n    init() {\r\n        if (!this.script) {\r\n            this.script = document.createElement('script');\r\n            this.script.type = 'text/javascript';\r\n            this.script.src =\r\n                this.path + 'jsPlugin-1.2.0.min.js?v=' + new Date().getTime();\r\n            document.getElementsByTagName('head')[0].appendChild(this.script);\r\n            this.script.onload = this.script.onreadystatechange = () => {\r\n                this.plugin = new JSPlugin(this.args);\r\n                this.event.emit('loaded');\r\n                this.loaded = true;\r\n            };\r\n        }\r\n        else {\r\n            this.plugin = new JSPlugin(this.args);\r\n            this.event.emit('loaded');\r\n            this.loaded = true;\r\n        }\r\n    }\r\n    load() { }\r\n    wait() {\r\n        return new Promise((resolve) => {\r\n            let handle = setInterval(() => {\r\n                if (this.plugin) {\r\n                    resolve(0);\r\n                    clearInterval(handle);\r\n                }\r\n            }, this.timeout);\r\n        });\r\n    }\r\n    JS_Play(url, callabck) {\r\n        return this.plugin.JS_Play(url, callabck, 0);\r\n    }\r\n    JS_GetWndStatus() {\r\n        return this.plugin.JS_GetWndStatus(0);\r\n    }\r\n    JS_Resize(width, height) {\r\n        return this.plugin.JS_Resize(width, height);\r\n    }\r\n    JS_OpenSound() {\r\n        return this.plugin.JS_OpenSound(0);\r\n    }\r\n    JS_CloseSound() {\r\n        return this.plugin.JS_CloseSound();\r\n    }\r\n    JS_GetVolume(value) {\r\n        return this.plugin.JS_GetVolume(0, value);\r\n    }\r\n    JS_SetVolume(value) {\r\n        return this.plugin.JS_SetVolume(0, value);\r\n    }\r\n    JS_Seek(value) {\r\n        return this.plugin.JS_Seek(0, value);\r\n    }\r\n    JS_Fast() {\r\n        return this.plugin.JS_Fast(0);\r\n    }\r\n    JS_Slow() {\r\n        return this.plugin.JS_Slow(0);\r\n    }\r\n    JS_CapturePictureData() {\r\n        return this.plugin.JS_CapturePictureData(0);\r\n    }\r\n    JS_Pause() {\r\n        return this.plugin.JS_Pause(0);\r\n    }\r\n    JS_FrameForward() {\r\n        return this.plugin.JS_FrameForward(0);\r\n    }\r\n    JS_Stop() {\r\n        return this.plugin.JS_Stop(0);\r\n    }\r\n    JS_FullScreenSingle() {\r\n        return this.plugin.JS_FullScreenSingle(0);\r\n    }\r\n    JS_Download(filename, type) {\r\n        return this.plugin.JS_Download(filename, type);\r\n    }\r\n    JS_CapturePicture(name, type) {\r\n        return this.plugin.JS_CapturePicture(0, name, type);\r\n    }\r\n    JS_Resume() {\r\n        return this.plugin.JS_Resume(0);\r\n    }\r\n    JS_GetOSDTime() {\r\n        return this.plugin.JS_GetOSDTime(0);\r\n    }\r\n}\r\nexports.WSPlayerPlugin = WSPlayerPlugin;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DateTool = void 0;\r\nclass DateTool {\r\n    static format(date, fmt) {\r\n        var o = {\r\n            'M+': date.getMonth() + 1,\r\n            'd+': date.getDate(),\r\n            'h+': date.getHours() % 12 == 0 ? 12 : date.getHours() % 12,\r\n            'H+': date.getHours(),\r\n            'm+': date.getMinutes(),\r\n            's+': date.getSeconds(),\r\n            'q+': Math.floor((date.getMonth() + 3) / 3),\r\n            S: date.getMilliseconds(), //毫秒\r\n        };\r\n        let week = [\r\n            '\\u65e5',\r\n            '\\u4e00',\r\n            '\\u4e8c',\r\n            '\\u4e09',\r\n            '\\u56db',\r\n            '\\u4e94',\r\n            '\\u516d',\r\n        ];\r\n        if (/(y+)/.test(fmt)) {\r\n            fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n        }\r\n        if (/(E+)/.test(fmt)) {\r\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length > 1\r\n                ? RegExp.$1.length > 2\r\n                    ? '\\u661f\\u671f'\r\n                    : '\\u5468'\r\n                : '') + week[date.getDay()]);\r\n        }\r\n        let _o = o;\r\n        for (var k in _o) {\r\n            if (new RegExp('(' + k + ')').test(fmt)) {\r\n                fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1\r\n                    ? _o[k]\r\n                    : ('00' + _o[k]).substr(('' + _o[k]).length));\r\n            }\r\n        }\r\n        return fmt;\r\n    }\r\n    static interval(begin, end) {\r\n        let interval = new Date(end.getTime() - begin.getTime());\r\n        return this.timezone.remove(interval);\r\n    }\r\n}\r\nexports.DateTool = DateTool;\r\nDateTool.timezone = {\r\n    remove: (date) => {\r\n        let time = new Date(date.getTime());\r\n        time.setHours(time.getHours() + time.getTimezoneOffset() / 60);\r\n        return time;\r\n    },\r\n    restore: (date) => {\r\n        let time = new Date(date.getTime());\r\n        time.setHours(time.getHours() - time.getTimezoneOffset() / 60);\r\n        return time;\r\n    },\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventEmitter = void 0;\r\nclass EventEmitter {\r\n    constructor() {\r\n        this.eventMap = {};\r\n    }\r\n    get keys() {\r\n        let keys = [];\r\n        for (const key in this.eventMap) {\r\n            keys.push(key);\r\n        }\r\n        return keys;\r\n    }\r\n    // 添加对应事件的监听函数\r\n    on(eventName, listener) {\r\n        if (!this.eventMap[eventName]) {\r\n            this.eventMap[eventName] = [];\r\n        }\r\n        this.eventMap[eventName].push(listener);\r\n        return this;\r\n    }\r\n    // 触发事件\r\n    emit(eventName, ...args) {\r\n        const listeners = this.eventMap[eventName];\r\n        if (!listeners || listeners.length === 0)\r\n            return false;\r\n        listeners.forEach((listener) => {\r\n            listener(...args);\r\n        });\r\n        return true;\r\n    }\r\n    // 取消对应事件的监听\r\n    off(eventName, listener) {\r\n        const listeners = this.eventMap[eventName];\r\n        if (listeners && listeners.length > 0) {\r\n            const index = listeners.indexOf(listener);\r\n            if (index > -1) {\r\n                listeners.splice(index, 1);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n}\r\nexports.EventEmitter = EventEmitter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.wait = void 0;\r\nfunction wait(whether, reject, timeout = 100) {\r\n    setTimeout(() => {\r\n        if (whether()) {\r\n            reject();\r\n        }\r\n        else {\r\n            wait(whether, reject, timeout);\r\n        }\r\n    }, timeout);\r\n}\r\nexports.wait = wait;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayerControlsTrigger = void 0;\r\nconst play_mode_enum_1 = require(\"../enum/play-mode.enum\");\r\nconst player_state_enum_1 = require(\"../enum/player-state.enum\");\r\nconst event_emitter_1 = require(\"../tools/event-emitter\");\r\nclass WSPlayerControlsTrigger {\r\n    constructor(controls, controller, storage) {\r\n        this.controls = controls;\r\n        this.controller = controller;\r\n        this.storage = storage;\r\n        this.event = {\r\n            button: new event_emitter_1.EventEmitter(),\r\n        };\r\n        this.regist();\r\n    }\r\n    regist() {\r\n        this.controls.event.on('play', this.play.bind(this));\r\n        this.controls.event.on('stop', this.stop.bind(this));\r\n        this.controls.event.on('pause', this.pause.bind(this));\r\n        this.controls.event.on('fast', this.fast.bind(this));\r\n        this.controls.event.on('slow', this.slow.bind(this));\r\n        this.controls.event.on('forward', this.forward.bind(this));\r\n        this.controls.event.on('jump_back', this.jump_back.bind(this));\r\n        this.controls.event.on('jump_forward', this.jump_forward.bind(this));\r\n        this.controls.event.on('fullscreen', this.fullscreen.bind(this));\r\n        this.controls.event.on('capturepicture', this.capturepicture.bind(this));\r\n        this.controls.event.on('rule', this.rule.bind(this));\r\n        this.controls.event.on('subtitle', this.subtitle.bind(this));\r\n        this.controls.event.on('volume', this.volume.bind(this));\r\n        this.controls.event.on('positionchange', this.positionchange.bind(this));\r\n        this.controls.event.on('positionmousedown', this.positionmousedown.bind(this));\r\n        this.storage.event.on('state', this.state.bind(this));\r\n    }\r\n    state(state) {\r\n        switch (this.storage.model.mode) {\r\n            case play_mode_enum_1.PlayMode.live:\r\n                this.livestate(state);\r\n                break;\r\n            case play_mode_enum_1.PlayMode.vod:\r\n                this.vodstate(state);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    livestate(state) {\r\n        switch (state) {\r\n            case player_state_enum_1.PlayerState.playing:\r\n                this.controls.control.play.show = false;\r\n                this.controls.control.stop.show = true;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    vodstate(state) {\r\n        switch (state) {\r\n            case player_state_enum_1.PlayerState.playing:\r\n                this.controls.control.play.show = false;\r\n                this.controls.control.pause.show = true;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    play() {\r\n        this.event.button.emit('click', this.play.name);\r\n        switch (this.controller.video.state) {\r\n            case player_state_enum_1.PlayerState.pause:\r\n            case player_state_enum_1.PlayerState.frame:\r\n                return this.controller.video.resume();\r\n            default:\r\n                return this.controller.video.play();\r\n        }\r\n    }\r\n    stop() {\r\n        this.event.button.emit('click', this.stop.name);\r\n        return this.controller.video.stop().then((x) => {\r\n            if (this.storage.fullscreen) {\r\n                this.controller.screen.exit();\r\n            }\r\n        });\r\n    }\r\n    pause() {\r\n        this.event.button.emit('click', this.pause.name);\r\n        return this.controller.video.pause();\r\n    }\r\n    fast() {\r\n        this.event.button.emit('click', this.fast.name);\r\n        return this.controller.video.speed.fast();\r\n    }\r\n    slow() {\r\n        this.event.button.emit('click', this.slow.name);\r\n        return this.controller.video.speed.slow();\r\n    }\r\n    forward() {\r\n        this.event.button.emit('click', this.forward.name);\r\n        return this.controller.video.forward();\r\n    }\r\n    jump_back() {\r\n        this.event.button.emit('click', this.jump_back.name);\r\n        return this.controller.video.jump_back();\r\n    }\r\n    jump_forward() {\r\n        this.event.button.emit('click', this.jump_forward.name);\r\n        return this.controller.video.jump_forward();\r\n    }\r\n    fullscreen() {\r\n        this.event.button.emit('click', this.fullscreen.name);\r\n        if (this.controller.screen.isfull) {\r\n            return this.controller.screen.exit();\r\n        }\r\n        else {\r\n            return this.controller.screen.full();\r\n        }\r\n    }\r\n    capturepicture() {\r\n        this.event.button.emit('click', this.capturepicture.name);\r\n        return this.controller.video.capturepicture.download();\r\n    }\r\n    rule(enabled) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.event.button.emit('click', this.rule.name);\r\n            this.controller.video.rule.enabled = enabled;\r\n        });\r\n    }\r\n    subtitle(enabled) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.event.button.emit('click', this.subtitle.name);\r\n            this.controller.video.subtitle.enabled = enabled;\r\n        });\r\n    }\r\n    volume(value) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.event.button.emit('click', this.volume.name);\r\n            if (value > 0) {\r\n                this.controller.sound.open();\r\n            }\r\n            else {\r\n                this.controller.sound.close();\r\n            }\r\n            this.controller.sound.volume.set(value);\r\n        });\r\n    }\r\n    positionmousedown() {\r\n        return this.controller.video.position.mousedown();\r\n    }\r\n    positionchange(value) {\r\n        return this.controller.video.position.change(value);\r\n    }\r\n}\r\nexports.WSPlayerControlsTrigger = WSPlayerControlsTrigger;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WSPlayer = void 0;\r\nconst player_controller_1 = require(\"./controllers/player-controller\");\r\nconst player_controls_1 = require(\"./player-controls/player-controls\");\r\nconst player_storage_1 = require(\"./player.storage\");\r\nconst plugin_1 = require(\"./plugin\");\r\nconst player_controls_trigger_1 = require(\"./triggers/player-controls.trigger\");\r\nclass WSPlayer {\r\n    get event() {\r\n        return Object.assign(Object.assign({}, this.controller.event), this.trigger.event);\r\n    }\r\n    constructor(args) {\r\n        let element = this.init(args.elementId);\r\n        this.storage = new player_storage_1.WSPlayerStorage(element, args.url);\r\n        this.storage.name = args.name;\r\n        this.controls = new player_controls_1.WSPlayerControls(element);\r\n        this.controller = new player_controller_1.WSPlayerController(this.storage, this.controls, () => {\r\n            return plugin_1.WSPlayerPlugin.get(this.storage.html.element.id);\r\n        });\r\n        this.trigger = new player_controls_trigger_1.WSPlayerControlsTrigger(this.controls, this.controller, this.storage);\r\n    }\r\n    stop() {\r\n        return this.controller.video.stop();\r\n    }\r\n    play() {\r\n        return this.controller.video.play();\r\n    }\r\n    seek(position) {\r\n        return this.controller.video.seek(position);\r\n    }\r\n    fast() {\r\n        return this.controller.video.speed.fast();\r\n    }\r\n    slow() {\r\n        return this.controller.video.speed.slow();\r\n    }\r\n    pause() {\r\n        return this.controller.video.pause();\r\n    }\r\n    resume() {\r\n        return this.controller.video.resume();\r\n    }\r\n    frame() {\r\n        return this.controller.video.forward();\r\n    }\r\n    resize(width, height) {\r\n        return this.controller.screen.resize(width, height);\r\n    }\r\n    fullscreen() {\r\n        return this.controller.screen.full();\r\n    }\r\n    fullexit() {\r\n        return this.controller.screen.exit();\r\n    }\r\n    download(filename, type) {\r\n        return this.controller.video.download(filename, type);\r\n    }\r\n    speedResume() {\r\n        return this.controller.video.speed.resume();\r\n    }\r\n    capturePicture() {\r\n        return this.controller.video.capturepicture.download();\r\n    }\r\n    subtitleText(text) {\r\n        return this.controller.video.subtitle.set(text);\r\n    }\r\n    subtitleEnabled(enabled) {\r\n        this.controller.video.subtitle.enabled = enabled;\r\n    }\r\n    openSound() {\r\n        return this.controller.sound.open();\r\n    }\r\n    closeSound() {\r\n        return this.controller.sound.close();\r\n    }\r\n    changeRuleState(state) {\r\n        return (this.controller.video.rule.enabled = state);\r\n    }\r\n    getCapturePictureData() {\r\n        return this.controller.video.capturepicture.get();\r\n    }\r\n    getPosition() {\r\n        return this.controller.video.position.value;\r\n    }\r\n    getVolume() {\r\n        return this.controller.sound.volume.get();\r\n    }\r\n    setVolume(volume) {\r\n        return this.controller.sound.volume.set(volume);\r\n    }\r\n    getOSDTime() {\r\n        return this.controller.video.osd.get();\r\n    }\r\n    init(id) {\r\n        let element = document.getElementById(id);\r\n        let classname = 'player';\r\n        if (!element.classList.contains(classname)) {\r\n            element.classList.add(classname);\r\n        }\r\n        return element;\r\n    }\r\n}\r\nexports.WSPlayer = WSPlayer;\r\n;\r\nwindow.WSPlayer = WSPlayer;\r\n"],"names":[],"sourceRoot":""}