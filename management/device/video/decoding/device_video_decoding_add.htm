<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <link href="../../../../css/howell.css" rel="stylesheet" />
    <script src="../../../../js/language/chinese.js"></script>
    <link href="../../../../css/bootstrap/bootstrap-switch.css" rel="stylesheet" />
    <script src="../../../../js/jquery/jquery-1.10.2.min.js"></script>
    <script src="../../../../js/jquery/jquery-ui.js"></script>
    <script src="../../../../js/bootstrap/bootstrap.min.js"></script>
    <script src="../../../../js/bootstrap/bootstrap-switch.min.js"></script>
    <script src="../../../../js/imported.js"></script>
    <script src="../../../../js/modernizr.custom.js"></script>
    <script src="../../../../js/howell.js/howell.js"></script>
    <script src="../../../../js/howell.js/howell.control.js"></script>

    <script src="../../../../js/client/enum.js"></script>
    <script src="../../../../js/client/struct.js"></script>
    <script src="../../../../js/client/client.js"></script>

    <script src="../../../../js/background/management/background_device.event.js"></script>
    <script src="../../../../js/background/management/device/background_device_video_decodings.js"></script>
    <script src="device_video_decoding_details.js"></script>
    <script type="text/javascript">
        PageEvent.Device.Video.Decoding.GroupListChanged = function (decoding) {
            alert("GroupListChanged");
        }
    </script>
</head>
<body>
    <div class="container-fluid main-content alert-window-maxdiv">
        <div class="page-title">
            <h3 class="list-heading-div">
                <i class="icon-dc list-heading-icon mouse_default" style="height:20px;background-size:28px;margin-top:10px;width:30px;margin-left:3px;"></i>
                <!--<img src="../../../../img/icon/department.png" class="alert-window-title-icon"/>-->
                <label>添加解码通道</label>
            </h3>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="widget-content padded">
                    <form action="#" class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-md-4">
                                添加数量
                            </label>
                            <div class="col-md-5">
                                <input class="form-control" placeholder="1" type="text" id="txtCount" />
                            </div>
                        </div>
                        <div class="form-group" style="margin-top:75px">
                            <label class="control-label col-md-8">
                            </label>
                            <div class="col-md-2">
                                <a class="btn btn-primary" id="btnAddDecodings" onclick="return btnAddDecodings_Click(this);">
                                    确&ensp;&ensp;定
                                </a>
                            </div>
                            <div class="col-md-2">
                                <a class="btn btn-primary" onclick="return AlertWindow.Close();">
                                    取&ensp;&ensp;消
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        function btnAddDecodings_Click(sender, args) {

            var count = getTag("txtCount").value ? getTag("txtCount").value : 1;

            for (var i = 0; i < count; i++) {
                var decoding = new DecodingChannel();
                decoding.SupportedCodecFormatsSpecified = true;
                try {
                    Html.Control.AlertWindow.Device.Decoding.create(decoding);
                } catch (e) {

                }
                
            }
            AlertWindow.Close(PageEvent.Device.Video.Decoding.GroupListReload);

            return false;
        }
    </script>
</body>
</html>
